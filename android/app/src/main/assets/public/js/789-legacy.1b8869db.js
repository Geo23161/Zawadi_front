"use strict";(self["webpackChunkZawadi"]=self["webpackChunkZawadi"]||[]).push([[789],{5170:(e,a,l)=>{l.d(a,{Z:()=>z});var t=l(6252),n=l(9963),u=l(3577),i=l(922);const o=e=>((0,t.dD)("data-v-7a52bb2c"),e=e(),(0,t.Cn)(),e),s=o((()=>(0,t._)("div",{class:"aid"},[(0,t._)("div",{style:{"margin-right":"0.6rem"}},[(0,t._)("img",{src:i,class:"myimg"})]),(0,t._)("div",null,"Mettez votre profil à jour")],-1))),d={class:"d_sp",style:{display:"flex"}},r={class:"d_sp"},c={class:"d_sp spec"},p=o((()=>(0,t._)("div",{class:"label"},"Whatsapp",-1))),m={class:"d_sp spec"},v=o((()=>(0,t._)("div",{class:"label"},"Numero de téléphone",-1))),_=["value"],w={class:"d_sp"},f=o((()=>(0,t._)("div",{style:{"padding-top":"0.4rem",color:"rgb(41, 41, 41)","padding-bottom":"0.4rem"}}," Entrez le nom de votre quartier ou d'un lieu connu proche ",-1))),g={key:0},k={key:1},b={style:{padding:"1rem"}};function h(e,a,l,i,o,h){const W=(0,t.up)("ion-title"),y=(0,t.up)("ion-button"),C=(0,t.up)("ion-buttons"),D=(0,t.up)("ion-toolbar"),U=(0,t.up)("ion-header"),q=(0,t.up)("ion-label"),H=(0,t.up)("ion-input"),I=(0,t.up)("ion-item"),S=(0,t.up)("ion-checkbox"),j=(0,t.up)("ion-icon"),z=(0,t.up)("ion-list"),O=(0,t.up)("ion-content"),Z=(0,t.up)("ion-modal"),x=(0,t.up)("location-picker");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(Z,{"is-open":e.isOpen},{default:(0,t.w5)((()=>[(0,t.Wm)(U,{mode:"ios"},{default:(0,t.w5)((()=>[(0,t.Wm)(D,null,{default:(0,t.w5)((()=>[(0,t.Wm)(W,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Profile Acheteur")])),_:1}),(0,t.Wm)(C,{slot:"end"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{onClick:a[0]||(a[0]=a=>e.close())},{default:(0,t.w5)((()=>[(0,t.Uk)("Fermer")])),_:1})])),_:1})])),_:1})])),_:1}),(0,t.Wm)(O,{class:"ion-padding"},{default:(0,t.w5)((()=>[s,(0,t._)("form",{onSubmit:a[8]||(a[8]=(0,n.iM)((a=>e.validate_profil()),["prevent"]))},[(0,t.Wm)(z,{mode:"md"},{default:(0,t.w5)((()=>[(0,t._)("div",d,[(0,t.Wm)(I,{fill:"outline",mode:"md",style:{"margin-right":"0.3rem"}},{default:(0,t.w5)((()=>[(0,t.Wm)(q,{position:"floating"},{default:(0,t.w5)((()=>[(0,t.Uk)("Nom")])),_:1}),(0,t.Wm)(H,{required:"",id:"last_name",value:e.last_name,onIonInput:a[1]||(a[1]=a=>e.last_name=a.target.value)},null,8,["value"])])),_:1}),(0,t.Wm)(I,{fill:"outline",mode:"md",style:{"margin-left":"0.3rem"}},{default:(0,t.w5)((()=>[(0,t.Wm)(q,{position:"floating"},{default:(0,t.w5)((()=>[(0,t.Uk)("Prénom")])),_:1}),(0,t.Wm)(H,{required:"",value:e.first_name,onIonInput:a[2]||(a[2]=a=>e.first_name=a.target.value),id:"first_name"},null,8,["value"])])),_:1})]),(0,t._)("div",r,[(0,t.Wm)(I,{fill:"outline"},{default:(0,t.w5)((()=>[(0,t.Wm)(q,{position:"floating"},{default:(0,t.w5)((()=>[(0,t.Uk)("Email")])),_:1}),(0,t.Wm)(H,{type:"email",required:"",value:e.email,onIonInput:a[3]||(a[3]=a=>e.email=a.target.value),id:"email"},null,8,["value"])])),_:1})]),(0,t._)("div",c,[p,(0,t._)("div",null,[(0,t._)("input",{required:"",onInput:a[4]||(a[4]=a=>e.rwhatsapp=a.target.value),id:"phone",class:"myinput",type:"number"},null,32)])]),(0,t.Wm)(I,{onClick:a[5]||(a[5]=a=>e.same=!e.same)},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{checked:e.same,slot:"start"},null,8,["checked"]),(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Même numéro pour les appels ")])),_:1})])),_:1}),(0,t.wy)((0,t._)("div",m,[v,(0,t._)("div",null,[(0,t._)("input",{id:"phone2",value:e.phone,"on:ionInput":a[6]||(a[6]=a=>e.rphone=a.target.value),class:"myinput",type:"number"},null,40,_)])],512),[[n.F8,!e.same]]),(0,t._)("div",w,[f,(0,t._)("div",{class:(0,u.C_)(["myinp",{acto:""!=e.quart,norm:""==e.quart}]),onClick:a[7]||(a[7]=a=>e.lOpen=!e.lOpen)},[""==e.quart?((0,t.wg)(),(0,t.iD)("div",g,"Aucun nom entré")):((0,t.wg)(),(0,t.iD)("div",k,(0,u.zw)(e.print_quart_name(e.quart)),1)),(0,t._)("div",null,[(0,t.Wm)(j,{icon:e.location},null,8,["icon"])])],2)])])),_:1}),(0,t._)("div",b,[(0,t.Wm)(y,{type:"submit",expand:"full"},{default:(0,t.w5)((()=>[(0,t.Uk)("Valider")])),_:1})])],32)])),_:1})])),_:1},8,["is-open"]),(0,t.Wm)(Z,{mode:"ios","is-open":!1},{default:(0,t.w5)((()=>[(0,t.Wm)(O,null,{default:(0,t.w5)((()=>[(0,t.Uk)(" Hey you ")])),_:1})])),_:1}),(0,t.Wm)(x,{isOpen:e.lOpen,onClose:a[9]||(a[9]=a=>e.lOpen=!1),onDone:e.al},null,8,["isOpen","onDone"])],64)}var W=l(2262),y=l(3274),C=l(8699),D=l.n(C),U=l(3978),q=l(930);function H(e){fetch("https://ipinfo.io/json?token=d737ce5f6899f5",{headers:{Accept:"application/json"}}).then((e=>e.json())).catch((()=>({country:"bj"}))).then((a=>{e(a.country)}))}const I=(0,t.aZ)({props:{isOpen:Boolean},components:{IonModal:y.ki,LocationPicker:q.Z},setup(e,{emit:a}){const l=(0,W.iH)(!0),n=(0,W.iH)(),u=((0,t.Bz)(["close","done"]),(0,W.iH)(""),(0,W.iH)("")),i=((0,W.iH)(""),(0,W.iH)("")),o=(0,W.iH)(""),s=(0,W.iH)(!0),d=(0,W.iH)(""),r=(0,W.iH)(""),c=(0,W.iH)(!1),p=(0,W.iH)(""),m=async(e,a)=>{const l=await y.Cl.create({header:e,message:a,buttons:["OK"]});await l.present()},v=new U.K({name:"client_info"});v.create();const _=async()=>{const e=await v.get("whatsapp");if(e){const a=await v.get("first_name"),l=await v.get("last_name"),t=await v.get("email"),n=await v.get("phone"),s=await v.get("quart");p.value=s,o.value=a,d.value=l,r.value=t,i.value=n,u.value=e}console.log("Donnnnnnnnnneeee")};_();const w=()=>{a("close")},f=e=>{n.value=e},g=e=>{const a=JSON.parse(e);return a.name};let k,b;H(f),(0,t.ic)((()=>{setTimeout((()=>{const e=document.querySelector("#phone"),a=document.querySelector("#phone2");k=D()(e,{preferredCountries:["bj","tg","ci"],initialCountry:"auto",geoIpLookup:H,utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"}),b=D()(a,{preferredCountries:["bj","tg","ci"],initialCountry:"auto",geoIpLookup:H,utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"})}),1500)}));const h=e=>{p.value=e,c.value=!1},C=()=>(u.value=k.getNumber(),s.value?i.value=u.value:i.value=b.getNumber(),1),q=()=>{const e=C();if(0==e)return m("Whatsapp incorrecte","Veuillez entrer un numéro whatsapp correcte");if(s.value)i.value=u.value;else if(""==i.value)return m("Numéro incorrecte","Veuillez entrer un numéro de téléphone correcte.");if(""==p.value)return m("Localisation impossible","Veuillez remplir le champ localisation avant de proceder a la validation. ");v.set("first_name",o.value),v.set("last_name",d.value),v.set("email",r.value),v.set("whatsapp",u.value),v.set("phone",i.value),v.set("quart",p.value),a("done")};return{opened:l,close:w,country:n,whatsapp:u,same:s,lOpen:c,al:h,quart:p,print_quart_name:g,validate_profil:q,first_name:o,last_name:d,email:r,phone:i}}});var S=l(3744);const j=(0,S.Z)(I,[["render",h],["__scopeId","data-v-7a52bb2c"]]),z=j},6789:(e,a,l)=>{l.r(a),l.d(a,{default:()=>Y});l(8862),l(7658),l(3948);var t=l(6252),n=l(2262),u=l(3577),i=l(9963),o=l(1787),s=l(3274),d=l(8903),r=l(2201),c=l(8433),p=l(3978),m=l(5170);const v=e=>((0,t.dD)("data-v-bb1e1d34"),e=e(),(0,t.Cn)(),e),_={class:"body_all"},w={class:"menu_cont"},f={key:0},g={class:"quote_cont"},k=v((()=>(0,t._)("div",{style:{"margin-right":"0.3rem"}},[(0,t._)("img",{src:o,class:"zwd_q"})],-1))),b={style:{"margin-right":"0.3rem",color:"white"}},h={class:"quote"},W={key:0,id:"product"},y={key:0,class:"choose_cont",id:"label"},C=["src"],D={key:0,class:"choose_cont",id:"cat"},U=["src"],q={key:0,class:"choose_cont",id:"sub"},H={key:0,class:"choose_cont",id:"ssub"},I={style:{padding:"1rem"}},S={key:1,id:"detail"},j={class:"choose_cont"},z={class:"d_sp"},O={class:"d_sp"},Z={class:"d_sp",style:{display:"none"}},x={key:2,style:{padding:"1rem"}},N={key:1},K={style:{"padding-top":"35vh",display:"flex","justify-content":"space-around"}},T=(0,t.aZ)({__name:"ChooseProductView",setup(e){const a=(0,n.iH)(!1),l=async()=>{const e=new p.K({name:"client_info"});e.create();const l=await e.get("whatsapp");if(l){V.value=!0;const a=await e.get("first_name"),t=await e.get("last_name"),n=await e.get("email"),u=await e.get("phone"),i=await e.get("quart"),s=new FormData;s.append("first_name",a),s.append("last_name",t),s.append("email",n),s.append("phone",u),s.append("whatsapp",l),s.append("quart",i),s.append("subs",`${P.value}`),s.append("ssubs",JSON.stringify(Y.value)),s.append("num",`${A.value}`),s.append("bdg",`${F.value}`),(0,c.Z)({url:"v2/api/register_demand/",method:"POST",data:s}).then((e=>{e.data["done"]&&(V.value=!1,localStorage.setItem("new",`${e.data["result"]}`),o.push("/acheteur"))})).catch((e=>{console.log(e)}))}else a.value=!0},o=(0,r.tv)(),v=(0,n.iH)(0),T=(0,n.iH)(0),B=(0,n.iH)(0),P=(0,n.iH)(0),Y=(0,n.iH)(0),A=(0,n.iH)(1),F=(0,n.iH)(0),J=((0,n.iH)("now"),()=>{let e="";switch(v.value){case 0:e="De quelle catégorie?";break;case 1:e="De quel type?";break;case 2:e="Quel produit?";break;case 3:e="Quel produit en particulier?";break;case 4:e="Budget prévu?";break}return e}),M=e=>{let a=[];switch(e){case 0:a=E.value;break;case 1:for(const e of E.value)e.id==T.value&&(a=e.cats);break;case 2:for(const e of E.value)for(const l of e.cats)l.id==B.value&&(a=l.subs);break;case 3:for(const e of E.value)for(const l of e.cats){let e;if(l.id==B.value)for(e of l.subs)e.id==P.value&&(a=e.subs)}1==a.length&&v.value++;break}return a},Q=()=>{v.value?4==v.value&&1==M(3).length?v.value=2:v.value=v.value-1:o.back()},V=(0,n.iH)(!0),E=(0,n.iH)([]),L=()=>{(0,c.Z)({url:"v2/api/get_tree_cats/",method:"GET"}).then((e=>{e.data["done"]&&(E.value=e.data["result"],V.value=!1)})).catch((e=>{console.log(e)}))};return L(),(0,s.Yr)((()=>{v.value=0,Y.value=0})),(e,o)=>{const r=(0,t.up)("ion-icon"),c=(0,t.up)("ion-label"),p=(0,t.up)("ion-item"),E=(0,t.up)("ion-list"),L=(0,t.up)("ion-button"),$=(0,t.up)("ion-input"),G=(0,t.up)("ion-select-option"),R=(0,t.up)("ion-select");return(0,t.wg)(),(0,t.j4)((0,n.SU)(s._i),null,{default:(0,t.w5)((()=>[(0,t.Wm)((0,n.SU)(s.W2),null,{default:(0,t.w5)((()=>[(0,t._)("div",_,[(0,t._)("div",w,[(0,t._)("div",{onClick:o[0]||(o[0]=e=>Q()),class:"menu"},[(0,t.Wm)(r,{icon:(0,n.SU)(d.XRs)},null,8,["icon"])])]),V.value?((0,t.wg)(),(0,t.iD)("div",N,[(0,t._)("div",K,[(0,t._)("div",null,[(0,t.Wm)((0,n.SU)(s.PQ),{color:"primary",name:"crescent"})])])])):((0,t.wg)(),(0,t.iD)("div",f,[(0,t._)("div",g,[k,(0,t._)("div",b,[(0,t.Wm)(r,{icon:(0,n.SU)(d.fkQ),size:"large"},null,8,["icon"])]),(0,t._)("div",h,(0,u.zw)(J()),1)]),v.value<4?((0,t.wg)(),(0,t.iD)("div",W,[(0,t.Wm)(i.uT,{name:"down"},{default:(0,t.w5)((()=>[v.value?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("div",y,[(0,t.Wm)(E,{style:{background:"rgb(238, 238, 238)"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(M(v.value),(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id,class:"d_sp"},[(0,t.Wm)(p,{onClick:a=>(T.value=e.id,v.value++),button:"",detail:"true"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,n.SU)(s.BJ),{slot:"start"},{default:(0,t.w5)((()=>[(0,t._)("img",{src:e.get_picture},null,8,C)])),_:2},1024),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])])))),128))])),_:1})]))])),_:1}),(0,t.Wm)(i.uT,{name:"down"},{default:(0,t.w5)((()=>[1==v.value?((0,t.wg)(),(0,t.iD)("div",D,[(0,t.Wm)(E,{style:{background:"rgb(238, 238, 238)"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(M(v.value),(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id,class:"d_sp"},[(0,t.Wm)(p,{onClick:a=>(v.value++,B.value=e.id),button:"",detail:"true"},{default:(0,t.w5)((()=>[(0,t.Wm)((0,n.SU)(s.BJ),{slot:"start"},{default:(0,t.w5)((()=>[(0,t._)("img",{src:e.get_picture},null,8,U)])),_:2},1024),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])])))),128))])),_:1})])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(i.uT,{name:"down"},{default:(0,t.w5)((()=>[2==v.value?((0,t.wg)(),(0,t.iD)("div",q,[(0,t.Wm)(E,{style:{background:"rgb(238, 238, 238)"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(M(v.value),(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id,class:"d_sp"},[(0,t.Wm)(p,{onClick:a=>(P.value=e.id,v.value++),button:"",detail:"true"},{default:(0,t.w5)((()=>[(0,t.kq)("",!0),(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.name),1)])),_:2},1024)])),_:2},1032,["onClick"])])))),128))])),_:1})])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(i.uT,{name:"down"},{default:(0,t.w5)((()=>[3==v.value?((0,t.wg)(),(0,t.iD)("div",H,[(0,t.Wm)(E,{style:{background:"rgb(238, 238, 238)"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(M(v.value),(e=>((0,t.wg)(),(0,t.iD)("div",{key:e.id,class:"d_sp"},[(0,t.Wm)(p,{onClick:a=>(Y.value=e.id,v.value++),button:"",detail:"true"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,u.zw)(e.name),1)])),_:2},1024),(0,t.Wm)((0,n.SU)(s.nz),{color:"primary",mode:"ios",checked:Y.value==e.id,slot:"start"},null,8,["checked"])])),_:2},1032,["onClick"])])))),128))])),_:1}),(0,t._)("div",I,[(0,t.Wm)(L,{color:"light",onClick:o[1]||(o[1]=e=>(v.value++,Y.value=0)),expand:"full"},{default:(0,t.w5)((()=>[(0,t.Uk)("Je ne sais pas encore")])),_:1})])])):(0,t.kq)("",!0)])),_:1})])):((0,t.wg)(),(0,t.iD)("div",S,[(0,t._)("div",j,[(0,t.Wm)(E,{style:{background:"rgb(238, 238, 238)"}},{default:(0,t.w5)((()=>[(0,t._)("div",z,[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Budget prévu (en FCFA)")])),_:1}),(0,t.Wm)($,{onIonInput:o[2]||(o[2]=e=>F.value=e.target.value),type:"number",placeholder:"0000"})])),_:1})]),(0,t._)("div",O,[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Nombre voulu")])),_:1}),(0,t.Wm)($,{type:"number",onIonInput:o[3]||(o[3]=e=>A.value=e.target.value),value:"1"})])),_:1})]),(0,t._)("div",Z,[(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c,null,{default:(0,t.w5)((()=>[(0,t.Uk)("Quand êtes-vous libre?")])),_:1}),(0,t.Wm)(R,{placeholder:"Choisir"},{default:(0,t.w5)((()=>[(0,t.Wm)(G,{value:"now"},{default:(0,t.w5)((()=>[(0,t.Uk)("Maintenant")])),_:1}),(0,t.Wm)(G,{value:"today"},{default:(0,t.w5)((()=>[(0,t.Uk)("Ce soir")])),_:1}),(0,t.Wm)(G,{value:"tom"},{default:(0,t.w5)((()=>[(0,t.Uk)("Demain")])),_:1}),(0,t.Wm)(G,{value:"ttom"},{default:(0,t.w5)((()=>[(0,t.Uk)("Après demain")])),_:1}),(0,t.Wm)(G,{value:"week"},{default:(0,t.w5)((()=>[(0,t.Uk)("Cette Semaine")])),_:1})])),_:1})])),_:1})])])),_:1})])])),4==v.value?((0,t.wg)(),(0,t.iD)("div",x,[(0,t.Wm)(L,{onClick:o[4]||(o[4]=e=>l()),expand:"full"},{default:(0,t.w5)((()=>[(0,t.Uk)("Enregistrer")])),_:1})])):(0,t.kq)("",!0)]))]),(0,t.Wm)(m.Z,{isOpen:a.value,onClose:o[5]||(o[5]=e=>a.value=!1),onDone:o[6]||(o[6]=e=>l())},null,8,["isOpen"])])),_:1})])),_:1})}}});var B=l(3744);const P=(0,B.Z)(T,[["__scopeId","data-v-bb1e1d34"]]),Y=P},1787:(e,a,l)=>{e.exports=l.p+"img/zwd.24e25bda.png"}}]);
//# sourceMappingURL=789-legacy.1b8869db.js.map