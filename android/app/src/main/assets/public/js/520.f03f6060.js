"use strict";(self["webpackChunkZawadi"]=self["webpackChunkZawadi"]||[]).push([[520],{5170:(e,a,l)=>{l.d(a,{Z:()=>x});var i=l(6252),t=l(9963),n=l(3577),s=l(922);const o=e=>((0,i.dD)("data-v-7a52bb2c"),e=e(),(0,i.Cn)(),e),u=o((()=>(0,i._)("div",{class:"aid"},[(0,i._)("div",{style:{"margin-right":"0.6rem"}},[(0,i._)("img",{src:s,class:"myimg"})]),(0,i._)("div",null,"Mettez votre profil à jour")],-1))),d={class:"d_sp",style:{display:"flex"}},c={class:"d_sp"},r={class:"d_sp spec"},m=o((()=>(0,i._)("div",{class:"label"},"Whatsapp",-1))),_={class:"d_sp spec"},p=o((()=>(0,i._)("div",{class:"label"},"Numero de téléphone",-1))),v=["value"],f={class:"d_sp"},w=o((()=>(0,i._)("div",{style:{"padding-top":"0.4rem",color:"rgb(41, 41, 41)","padding-bottom":"0.4rem"}}," Entrez le nom de votre quartier ou d'un lieu connu proche ",-1))),g={key:0},h={key:1},y={style:{padding:"1rem"}};function W(e,a,l,s,o,W){const k=(0,i.up)("ion-title"),U=(0,i.up)("ion-button"),b=(0,i.up)("ion-buttons"),S=(0,i.up)("ion-toolbar"),H=(0,i.up)("ion-header"),z=(0,i.up)("ion-label"),q=(0,i.up)("ion-input"),j=(0,i.up)("ion-item"),C=(0,i.up)("ion-checkbox"),I=(0,i.up)("ion-icon"),x=(0,i.up)("ion-list"),O=(0,i.up)("ion-content"),D=(0,i.up)("ion-modal"),Z=(0,i.up)("location-picker");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(D,{"is-open":e.isOpen},{default:(0,i.w5)((()=>[(0,i.Wm)(H,{mode:"ios"},{default:(0,i.w5)((()=>[(0,i.Wm)(S,null,{default:(0,i.w5)((()=>[(0,i.Wm)(k,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Profile Acheteur")])),_:1}),(0,i.Wm)(b,{slot:"end"},{default:(0,i.w5)((()=>[(0,i.Wm)(U,{onClick:a[0]||(a[0]=a=>e.close())},{default:(0,i.w5)((()=>[(0,i.Uk)("Fermer")])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.Wm)(O,{class:"ion-padding"},{default:(0,i.w5)((()=>[u,(0,i._)("form",{onSubmit:a[8]||(a[8]=(0,t.iM)((a=>e.validate_profil()),["prevent"]))},[(0,i.Wm)(x,{mode:"md"},{default:(0,i.w5)((()=>[(0,i._)("div",d,[(0,i.Wm)(j,{fill:"outline",mode:"md",style:{"margin-right":"0.3rem"}},{default:(0,i.w5)((()=>[(0,i.Wm)(z,{position:"floating"},{default:(0,i.w5)((()=>[(0,i.Uk)("Nom")])),_:1}),(0,i.Wm)(q,{required:"",id:"last_name",value:e.last_name,onIonInput:a[1]||(a[1]=a=>e.last_name=a.target.value)},null,8,["value"])])),_:1}),(0,i.Wm)(j,{fill:"outline",mode:"md",style:{"margin-left":"0.3rem"}},{default:(0,i.w5)((()=>[(0,i.Wm)(z,{position:"floating"},{default:(0,i.w5)((()=>[(0,i.Uk)("Prénom")])),_:1}),(0,i.Wm)(q,{required:"",value:e.first_name,onIonInput:a[2]||(a[2]=a=>e.first_name=a.target.value),id:"first_name"},null,8,["value"])])),_:1})]),(0,i._)("div",c,[(0,i.Wm)(j,{fill:"outline"},{default:(0,i.w5)((()=>[(0,i.Wm)(z,{position:"floating"},{default:(0,i.w5)((()=>[(0,i.Uk)("Email")])),_:1}),(0,i.Wm)(q,{type:"email",required:"",value:e.email,onIonInput:a[3]||(a[3]=a=>e.email=a.target.value),id:"email"},null,8,["value"])])),_:1})]),(0,i._)("div",r,[m,(0,i._)("div",null,[(0,i._)("input",{required:"",onInput:a[4]||(a[4]=a=>e.rwhatsapp=a.target.value),id:"phone",class:"myinput",type:"number"},null,32)])]),(0,i.Wm)(j,{onClick:a[5]||(a[5]=a=>e.same=!e.same)},{default:(0,i.w5)((()=>[(0,i.Wm)(C,{checked:e.same,slot:"start"},null,8,["checked"]),(0,i.Wm)(z,null,{default:(0,i.w5)((()=>[(0,i.Uk)("Même numéro pour les appels ")])),_:1})])),_:1}),(0,i.wy)((0,i._)("div",_,[p,(0,i._)("div",null,[(0,i._)("input",{id:"phone2",value:e.phone,"on:ionInput":a[6]||(a[6]=a=>e.rphone=a.target.value),class:"myinput",type:"number"},null,40,v)])],512),[[t.F8,!e.same]]),(0,i._)("div",f,[w,(0,i._)("div",{class:(0,n.C_)(["myinp",{acto:""!=e.quart,norm:""==e.quart}]),onClick:a[7]||(a[7]=a=>e.lOpen=!e.lOpen)},[""==e.quart?((0,i.wg)(),(0,i.iD)("div",g,"Aucun nom entré")):((0,i.wg)(),(0,i.iD)("div",h,(0,n.zw)(e.print_quart_name(e.quart)),1)),(0,i._)("div",null,[(0,i.Wm)(I,{icon:e.location},null,8,["icon"])])],2)])])),_:1}),(0,i._)("div",y,[(0,i.Wm)(U,{type:"submit",expand:"full"},{default:(0,i.w5)((()=>[(0,i.Uk)("Valider")])),_:1})])],32)])),_:1})])),_:1},8,["is-open"]),(0,i.Wm)(D,{mode:"ios","is-open":!1},{default:(0,i.w5)((()=>[(0,i.Wm)(O,null,{default:(0,i.w5)((()=>[(0,i.Uk)(" Hey you ")])),_:1})])),_:1}),(0,i.Wm)(Z,{isOpen:e.lOpen,onClose:a[9]||(a[9]=a=>e.lOpen=!1),onDone:e.al},null,8,["isOpen","onDone"])],64)}var k=l(2262),U=l(3274),b=l(8699),S=l.n(b),H=l(3978),z=l(930);function q(e){fetch("https://ipinfo.io/json?token=d737ce5f6899f5",{headers:{Accept:"application/json"}}).then((e=>e.json())).catch((()=>({country:"bj"}))).then((a=>{e(a.country)}))}const j=(0,i.aZ)({props:{isOpen:Boolean},components:{IonModal:U.ki,LocationPicker:z.Z},setup(e,{emit:a}){const l=(0,k.iH)(!0),t=(0,k.iH)(),n=((0,i.Bz)(["close","done"]),(0,k.iH)(""),(0,k.iH)("")),s=((0,k.iH)(""),(0,k.iH)("")),o=(0,k.iH)(""),u=(0,k.iH)(!0),d=(0,k.iH)(""),c=(0,k.iH)(""),r=(0,k.iH)(!1),m=(0,k.iH)(""),_=async(e,a)=>{const l=await U.Cl.create({header:e,message:a,buttons:["OK"]});await l.present()},p=new H.K({name:"client_info"});p.create();const v=async()=>{const e=await p.get("whatsapp");if(e){const a=await p.get("first_name"),l=await p.get("last_name"),i=await p.get("email"),t=await p.get("phone"),u=await p.get("quart");m.value=u,o.value=a,d.value=l,c.value=i,s.value=t,n.value=e}console.log("Donnnnnnnnnneeee")};v();const f=()=>{a("close")},w=e=>{t.value=e},g=e=>{const a=JSON.parse(e);return a.name};let h,y;q(w),(0,i.ic)((()=>{setTimeout((()=>{const e=document.querySelector("#phone"),a=document.querySelector("#phone2");h=S()(e,{preferredCountries:["bj","tg","ci"],initialCountry:"auto",geoIpLookup:q,utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"}),y=S()(a,{preferredCountries:["bj","tg","ci"],initialCountry:"auto",geoIpLookup:q,utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"})}),1500)}));const W=e=>{m.value=e,r.value=!1},b=()=>(n.value=h.getNumber(),u.value?s.value=n.value:s.value=y.getNumber(),1),z=()=>{const e=b();if(0==e)return _("Whatsapp incorrecte","Veuillez entrer un numéro whatsapp correcte");if(u.value)s.value=n.value;else if(""==s.value)return _("Numéro incorrecte","Veuillez entrer un numéro de téléphone correcte.");if(""==m.value)return _("Localisation impossible","Veuillez remplir le champ localisation avant de proceder a la validation. ");p.set("first_name",o.value),p.set("last_name",d.value),p.set("email",c.value),p.set("whatsapp",n.value),p.set("phone",s.value),p.set("quart",m.value),a("done")};return{opened:l,close:f,country:t,whatsapp:n,same:u,lOpen:r,al:W,quart:m,print_quart_name:g,validate_profil:z,first_name:o,last_name:d,email:c,phone:s}}});var C=l(3744);const I=(0,C.Z)(j,[["render",W],["__scopeId","data-v-7a52bb2c"]]),x=I},3520:(e,a,l)=>{l.r(a),l.d(a,{default:()=>ee});var i=l(6252),t=l(2262),n=l(3577),s=l(922),o=l(2947),u=l(3274),d=l(8903),c=l(3978),r=l(5170),m=l(2201),_=l(8433);const p=e=>((0,i.dD)("data-v-3af7fa6a"),e=e(),(0,i.Cn)(),e),v={class:"top_banner"},f={style:{display:"flex"}},w=p((()=>(0,i._)("div",{style:{"padding-top":"0.5rem","text-align":"center","font-size":"1.25rem",color:"white"}},null,-1))),g=p((()=>(0,i._)("div",{class:"profil"},[(0,i._)("img",{class:"profil_img",src:s})],-1))),h={class:"item_cont"},y={class:"item_f d_sp"},W={class:"item"},k={class:"item_icon"},U={class:"item_text"},b=p((()=>(0,i._)("div",{class:"divid"},[(0,i._)("div",{class:"divider"})],-1))),S={class:"item_f d_sp"},H={class:"item"},z={class:"item_icon"},q={class:"item_text"},j=p((()=>(0,i._)("div",{class:"divid"},[(0,i._)("div",{class:"divider"})],-1))),C={class:"item_f d_sp"},I={class:"item"},x={class:"item_icon"},O={class:"item_text"},D=p((()=>(0,i._)("div",{class:"divid"},[(0,i._)("div",{class:"divider"})],-1))),Z={class:"item_f d_sp"},N={class:"item"},K={class:"item_icon"},V={class:"item_text"},A=p((()=>(0,i._)("div",{class:"divid"},[(0,i._)("div",{class:"divider"})],-1))),M={class:"item_f d_sp"},E={class:"item"},L={class:"item_icon"},P=p((()=>(0,i._)("div",{class:"item_text"},"Historique de paiements",-1))),F=p((()=>(0,i._)("div",{class:"divid"},[(0,i._)("div",{class:"divider"})],-1))),G={class:"edit_cont"},T={style:{"margin-right":"0.5rem"}},Y=p((()=>(0,i._)("div",{class:"edit_text"},"Editer",-1))),B=p((()=>(0,i._)("span",{style:{"font-weight":"bold"}},"Montant: ",-1))),J=p((()=>(0,i._)("br",null,null,-1))),Q=p((()=>(0,i._)("div",null,[(0,i._)("div",{class:"top_a"},[(0,i._)("img",{src:o})]),(0,i._)("div",{style:{padding:"1rem"}}," Vous n'avez encore effectué aucun payement pour ce compte ")],-1))),$=(0,i.aZ)({__name:"ProfilAcheteurView",setup(e){const a=(0,t.iH)(!1),l=(0,t.iH)(!1),s=new c.K({name:"client_info"});s.create();const o=(0,m.tv)(),p=(0,t.iH)(""),$=(0,t.iH)(""),R=(0,t.iH)(""),X=(0,t.iH)(""),ee=(0,t.iH)(""),ae=(0,t.iH)(""),le=async()=>{p.value=await s.get("first_name"),$.value=await s.get("last_name"),R.value=await s.get("email"),X.value=await s.get("phone"),ee.value=await s.get("quart"),ae.value=await s.get("whatsapp")};le().then((()=>{ae.value||(setTimeout((()=>{l.value=!0}),500),console.log("Worked fined"))}));const ie=(0,t.iH)([]),te=()=>{(0,_.Z)({url:`v2/api/get_payments/?email=${R.value}`,method:"GET"}).then((e=>{e.data["done"]&&(ie.value=e.data["result"])})).catch((e=>{console.log(e)}))};(0,u.KA)((()=>{te()}));const ne=async()=>{const e=new c.K({name:"client_info"});e.create(),p.value=await e.get("first_name"),$.value=await e.get("last_name"),R.value=await e.get("email"),X.value=await e.get("phone"),ee.value=await e.get("quart"),ae.value=await e.get("whatsapp"),l.value=!1};return(e,s)=>{const c=(0,i.up)("ion-icon");return(0,i.wg)(),(0,i.j4)((0,t.SU)(u._i),null,{default:(0,i.w5)((()=>[(0,i.Wm)((0,t.SU)(u.W2),null,{default:(0,i.w5)((()=>[(0,i._)("div",v,[(0,i._)("div",f,[(0,i._)("div",{class:"back_",onClick:s[0]||(s[0]=e=>(0,t.SU)(o).back())},[(0,i.Wm)(c,{icon:(0,t.SU)(d.XRs),size:"large"},null,8,["icon"])])]),w]),g,(0,i._)("div",h,[(0,i._)("div",y,[(0,i._)("div",W,[(0,i._)("div",k,[(0,i.Wm)(c,{icon:(0,t.SU)(d.QJ7),size:"large"},null,8,["icon"])]),(0,i._)("div",U,(0,n.zw)($.value)+" "+(0,n.zw)(p.value),1)]),b]),(0,i._)("div",S,[(0,i._)("div",H,[(0,i._)("div",z,[(0,i.Wm)(c,{icon:(0,t.SU)(d.xOl),size:"large"},null,8,["icon"])]),(0,i._)("div",q,(0,n.zw)(R.value),1)]),j]),(0,i._)("div",C,[(0,i._)("div",I,[(0,i._)("div",x,[(0,i.Wm)(c,{icon:(0,t.SU)(d.H7N),size:"large"},null,8,["icon"])]),(0,i._)("div",O,(0,n.zw)(X.value),1)]),D]),(0,i._)("div",Z,[(0,i._)("div",N,[(0,i._)("div",K,[(0,i.Wm)(c,{icon:(0,t.SU)(d.tl2),size:"large"},null,8,["icon"])]),(0,i._)("div",V,(0,n.zw)(ae.value),1)]),A]),(0,i._)("div",M,[(0,i._)("div",E,[(0,i._)("div",L,[(0,i.Wm)(c,{icon:(0,t.SU)(d.d71),size:"large"},null,8,["icon"])]),P,(0,i._)("div",{class:"myicon",style:{"margin-left":"2rem"},onClick:s[1]||(s[1]=e=>a.value=!a.value)},[(0,i.Wm)(c,{icon:(0,t.SU)(d.iyy)},null,8,["icon"])])]),F])]),(0,i._)("div",G,[(0,i._)("button",{onClick:s[2]||(s[2]=e=>l.value=!0),class:"edit"},[(0,i._)("div",T,[(0,i.Wm)(c,{icon:(0,t.SU)(d.rI1)},null,8,["icon"])]),Y])]),(0,i.Wm)((0,t.SU)(u.ki),{mode:"ios","is-open":a.value},{default:(0,i.w5)((()=>[(0,i.Wm)((0,t.SU)(u.Gu),null,{default:(0,i.w5)((()=>[(0,i.Wm)((0,t.SU)(u.sr),null,{default:(0,i.w5)((()=>[(0,i.Wm)((0,t.SU)(u.wd),null,{default:(0,i.w5)((()=>[(0,i.Uk)("Historique de paiement")])),_:1}),(0,i.Wm)((0,t.SU)(u.Sm),{slot:"end"},{default:(0,i.w5)((()=>[(0,i.Wm)((0,t.SU)(u.YG),{onClick:s[3]||(s[3]=e=>a.value=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("Fermer")])),_:1})])),_:1})])),_:1})])),_:1}),(0,i.Wm)((0,t.SU)(u.W2),{class:"ion-padding"},{default:(0,i.w5)((()=>[ie.value.length?((0,i.wg)(),(0,i.j4)((0,t.SU)(u.q_),{key:0},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(ie.value,(e=>((0,i.wg)(),(0,i.j4)((0,t.SU)(u.Ie),{key:e.id},{default:(0,i.w5)((()=>[(0,i.Wm)((0,t.SU)(u.Q$),null,{default:(0,i.w5)((()=>[(0,i._)("h1",null,[B,(0,i.Uk)((0,n.zw)(e.montant),1)]),(0,i._)("div",null,[(0,i.Uk)((0,n.zw)(e.created_at)+" ",1),J,(0,i._)("div",null,[(0,i.Uk)(" Statut : "),(0,i._)("span",{style:(0,n.j5)({color:e.get_color})},(0,n.zw)(e.statut),5)]),(0,i._)("div",null,[(0,i.Uk)(" ID : "),(0,i._)("span",null,(0,n.zw)(e.transaction_id),1)])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})):((0,i.wg)(),(0,i.j4)((0,t.SU)(u.q_),{key:1},{default:(0,i.w5)((()=>[Q])),_:1}))])),_:1})])),_:1},8,["is-open"]),(0,i.Wm)(r.Z,{isOpen:l.value,onClose:s[4]||(s[4]=e=>l.value=!1),onDone:s[5]||(s[5]=e=>ne())},null,8,["isOpen"])])),_:1})])),_:1})}}});var R=l(3744);const X=(0,R.Z)($,[["__scopeId","data-v-3af7fa6a"]]),ee=X},2947:(e,a,l)=>{e.exports=l.p+"img/paty.1ae610e6.svg"}}]);
//# sourceMappingURL=520.f03f6060.js.map