"use strict";(self["webpackChunkZawadi"]=self["webpackChunkZawadi"]||[]).push([[45],{8071:(e,t,i)=>{i.d(t,{BO:()=>l,UT:()=>s,ZP:()=>o});i(8862),i(7658);var a=i(3978),n=i(8433);const l=async()=>{const e=new a.K({name:"patner_info"});e.create();const t=await e.get("ptoken");if(!t)return!1;{const a=JSON.parse(t);try{const e=await(0,n.Z)({url:"v2/ping",method:"GET",headers:{Authorization:`Bearer ${a.access}`}});if(e.data["done"])return!0}catch(i){if(401==i.response.status){const t=new FormData;t.append("refresh",a.refresh);try{const i=await(0,n.Z)({url:"api/token/refresh/",method:"POST",data:t});return a.access=i.data["access"],e.set("ptoken",JSON.stringify(a)),!0}catch(i){if(401==i.response.status)return!1}}}}},s=async(e,t,i)=>{const l=new a.K({name:"patner_info"});l.create();const s=await l.get("ptoken");if(!s)return i&&i.dismiss(),t.push(`/seller?redirect=${e}`);{const i=JSON.parse(s);try{await(0,n.Z)({url:"v2/ping",method:"GET",headers:{Authorization:`Bearer ${i.access}`}});return i.access}catch(o){if(401==o.response.status){const a=new FormData;a.append("refresh",i.refresh);try{const e=await(0,n.Z)({url:"api/token/refresh/",method:"POST",data:a});return i.access=e.data["access"],l.set("ptoken",JSON.stringify(i)),e.data["access"]}catch(o){if(401==o.response.status)return t.push(`/seller?redirect=${e}`)}}}}},o=s},5402:(e,t,i)=>{i.d(t,{BO:()=>s,Lr:()=>d,QP:()=>o,UT:()=>u,bw:()=>m,ob:()=>c,uZ:()=>r});i(8862),i(7658);var a=i(3978),n=i(3274),l=i(8433);const s=async()=>{const e=new a.K({name:"seller_info"});e.create();const t=await e.get("stoken");if(!t)return!1;{const a=JSON.parse(t);try{const e=await(0,l.Z)({url:"v2/ping",method:"GET",headers:{Authorization:`Bearer ${a.access}`}});if(e.data["done"])return!0}catch(i){if(401==i.response.status){const t=new FormData;t.append("refresh",a.refresh);try{const i=await(0,l.Z)({url:"api/token/refresh/",method:"POST",data:t});return a.access=i.data["access"],e.set("stoken",JSON.stringify(a)),!0}catch(i){if(401==i.response.status)return!1}}}}},o=async e=>{const t=await n.G0.create({message:e});return t.present(),t},d=async(e,t)=>{const i=await n.Cl.create({header:e,message:t,buttons:["OK"]});await i.present()},r=async(e,t,i,a)=>{const l=await n.Cl.create({header:e,message:t,buttons:[{text:"Fermer",role:"cancel"},{text:i,role:"confirm",handler:()=>{a()}}]});await l.present()},c=async(e,t,i="primary")=>{const a=await n.Mn.create({mode:"ios",message:t,position:e,duration:3900,color:i});await a.present()},u=async(e,t,i)=>{const n=new a.K({name:"seller_info"});n.create();const s=await n.get("stoken");if(!s)return i&&i.dismiss(),t.push(`/seller?redirect=${e}`);{const i=JSON.parse(s);try{await(0,l.Z)({url:"v2/ping",method:"GET",headers:{Authorization:`Bearer ${i.access}`}});return i.access}catch(o){if(401==o.response.status){const a=new FormData;a.append("refresh",i.refresh);try{const e=await(0,l.Z)({url:"api/token/refresh/",method:"POST",data:a});return i.access=e.data["access"],n.set("stoken",JSON.stringify(i)),e.data["access"]}catch(o){if(401==o.response.status)return t.push(`/seller?redirect=${e}`)}}}}},m=e=>{window.location.href="tel:"+e}},7078:(e,t,i)=>{i.r(t),i.d(t,{default:()=>st});i(8862),i(3948),i(6699),i(7658),i(285),i(1637);var a=i(6252),n=i(2262),l=i(3577),s=i(922),o=i(7532);const d=i.p+"img/waiting.5b2f171d.svg",r=i.p+"img/success.c5327eeb.svg",c=i.p+"img/wait.1c9cfe86.svg";var u=i(3274),m=i(8903),p=i(2201),g=i(5402),_=i(8433),w=i(8071),v=i(9963);const f=e=>((0,a.dD)("data-v-4c735953"),e=e(),(0,a.Cn)(),e),y=f((()=>(0,a._)("div",{style:{display:"flex","justify-content":"space-around",padding:"0.5rem","text-align":"center"}},[(0,a._)("div",null," Entrez pour ce produit le prix de paiement accepté par le client. ")],-1))),k={key:0,class:"prod"},h={style:{"padding-top":"0.8rem","padding-left":"1.5rem","padding-right":"1.5rem","padding-bottom":"1rem"},slot:"content"},b={class:"card"},W={class:"cont_img"},U={id:"acti",style:{display:"flex","justify-content":"space-around","padding-top":"99px"}},S={key:1,class:"img_cont"},x={style:{width:"100%"}},D={class:"imgs"},C={class:"cont_img"},z={id:"acti",style:{display:"flex","justify-content":"space-around","padding-top":"99px"}},$={class:"corp"},j={class:"name_p"},H={key:0},O={key:0,class:"text_p"},T={key:1,class:"text_p"},Z={style:{"padding-top":"0.7rem"}};function q(e,t,i,n,s,o){const d=(0,a.up)("ion-title"),r=(0,a.up)("ion-button"),c=(0,a.up)("ion-buttons"),u=(0,a.up)("ion-toolbar"),m=(0,a.up)("ion-header"),p=(0,a.up)("ion-icon"),g=(0,a.up)("ion-label"),_=(0,a.up)("ion-input"),w=(0,a.up)("ion-item"),f=(0,a.up)("ion-content"),q=(0,a.up)("ion-modal");return(0,a.wg)(),(0,a.j4)(q,{"is-open":e.isOpen},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{mode:"ios"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,null,{default:(0,a.w5)((()=>[(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Lancez le paiement")])),_:1}),(0,a.Wm)(c,{slot:"end"},{default:(0,a.w5)((()=>[(0,a.Wm)(r,{onClick:t[0]||(t[0]=t=>e.close())},{default:(0,a.w5)((()=>[(0,a.Uk)("Fermer")])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(f,{class:"ion-padding"},{default:(0,a.w5)((()=>[y,e.prods.length?((0,a.wg)(),(0,a.iD)("div",k,[(0,a._)("div",h,[(0,a._)("div",b,[1==e.prod.files.length?((0,a.wg)(),(0,a.iD)("div",{key:0,style:(0,l.j5)({width:"100%",height:"240px","border-radius":"10px","background-size":"cover","background-position":"top center","background-image":`url('${e.prod.files[0].get_file}')`,"margin-bottom":"0.6rem"})},[(0,a._)("div",W,[(0,a._)("div",U,[(0,a._)("div",null,[(0,a.Wm)(p,{icon:e.checkmarkDone,size:"large"},null,8,["icon"])])])])],4)):((0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("div",x,[(0,a._)("div",D,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.prod.files,(t=>((0,a.wg)(),(0,a.iD)("div",{id:"prod:25",class:"mr-2 first_m f_border",key:t.id,style:(0,l.j5)({width:"100%",height:"210px",width:"230px","min-width":"230px","background-size":"cover","background-position":"top center","background-image":`url('${t.get_file}')`,"margin-bottom":"0.6rem"})},[(0,a._)("div",C,[(0,a._)("div",z,[(0,a._)("div",null,[(0,a.Wm)(p,{icon:e.checkmarkDone,size:"large"},null,8,["icon"])])])])],4)))),128))])])])),(0,a._)("div",$,[(0,a._)("div",j,(0,l.zw)(e.prod.name),1),e.prod.details?((0,a.wg)(),(0,a.iD)("div",H,[e.cursor!=e.prod.id?((0,a.wg)(),(0,a.iD)("div",O,[(0,a.Uk)((0,l.zw)(e.seen_text(e.prod.details)),1),e.is_safe(e.prod.details)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",{key:0,style:{color:"blue","text-decoration":"underline"},onClick:t[1]||(t[1]=t=>e.cursor=e.prod.id)},"Voir plus"))])):((0,a.wg)(),(0,a.iD)("div",T,[(0,a.Uk)((0,l.zw)(e.prod.details),1),(0,a._)("a",{style:{color:"blue","text-decoration":"underline"},onClick:t[2]||(t[2]=t=>e.cursor=0)},"Voir moins")]))])):(0,a.kq)("",!0)])])])])):(0,a.kq)("",!0),(0,a._)("div",null,[((0,a.wg)(),(0,a.iD)("form",{class:"d_sp",style:{"padding-top":"0.7rem"},onSubmit:t[4]||(t[4]=(0,v.iM)((t=>e.next()),["prevent"])),key:e.pos},[(0,a.Wm)(w,{color:"secondary",mode:"md",fill:"outline"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{position:"floating"},{default:(0,a.w5)((()=>[(0,a.Uk)("Prix accepté(en FCFA)")])),_:1}),(0,a.Wm)(_,{type:"number",required:"",onIonInput:t[3]||(t[3]=t=>e.current_val=t.target.value),id:"password"})])),_:1}),(0,a._)("div",Z,[(0,a.Wm)(r,{type:"submit",color:"tertiary",expand:"full"},{default:(0,a.w5)((()=>[(0,a.Uk)("Valider")])),_:1})])],32))])])),_:1})])),_:1},8,["is-open"])}const A=(0,a.aZ)({props:{isOpen:Boolean,mprods:Array,disId:Number},setup(e,t){const i=(0,n.Vh)(e,"mprods"),l=(0,n.Vh)(e,"disId"),s=((0,a.Bz)(["close","done"]),(0,n.iH)(0)),o=(0,n.iH)(0),d=(0,p.tv)(),r=(0,n.iH)({}),c=(0,n.iH)(0),u=()=>{for(const e of i.value)r.value[e.get_seller]=0},m=(0,a.Fl)((()=>i.value[s.value]));(0,a.YP)(i,((e,t)=>{setTimeout((()=>{u()}),300)}));const v=()=>{let e="";for(const t in r.value)e+=t+`:${r.value[t]}-`;return e},f=async e=>{const t=await(0,g.QP)("Loading..."),a=[];for(const l of i.value)a.push(l.id);const n=await _.Z.post("v2/api/enable_payment/"+l.value+"/",{tot:o.value,plans:e,pks:JSON.stringify(a)},{headers:{Authorization:`Bearer ${await(0,w.UT)(`/patner/dem/${l.value}/`,d,t)}`}});n.data["done"]&&(t.dismiss(),h(),(0,g.ob)("bottom","Le processus de payement a été enclenché avec succès."))},y=()=>{const e=r.value[i.value[s.value].get_seller]+parseInt(c.value);o.value+=parseInt(c.value),r.value[i.value[s.value].get_seller]=e,c.value=0,s.value<i.value.length-1?s.value++:f(v())},k=()=>{t.emit("close")},h=()=>{t.emit("done")},b=(0,n.iH)(0),W=e=>e.length<250,U=e=>W(e)?e:e.slice(0,248)+"...";return{prods:i,pos:s,plan_obj:r,close:k,done:h,prod:m,next:y,current_val:c,seen_text:U,is_safe:W,cursor:b}}});var B=i(3744);const P=(0,B.Z)(A,[["render",q],["__scopeId","data-v-4c735953"]]),E=P,J=e=>((0,a.dD)("data-v-dbfa8a50"),e=e(),(0,a.Cn)(),e),F=["innerHTML"],L=J((()=>(0,a._)("img",{src:s},null,-1))),K=J((()=>(0,a._)("h3",null,"Statut",-1))),I={class:"stats"},N={class:"stat_title"},Y={key:0},V=J((()=>(0,a._)("div",{class:"mytitle"},"Produits à proposer",-1))),G={key:0},Q=["src"],R=J((()=>(0,a._)("h2",null,"Option de livraison",-1))),M={key:0,class:""},X={key:0,style:{"padding-left":"1.5rem","padding-right":"1.5rem","padding-bottom":"1rem"},slot:"content"},ee=["onClick"],te={key:0,id:"acti",style:{display:"flex","justify-content":"space-around","padding-top":"99px"}},ie={key:1,class:"img_cont"},ae={style:{width:"100%"}},ne={class:"imgs"},le=["onClick"],se={key:0,id:"acti",style:{display:"flex","justify-content":"space-around","padding-top":"99px"}},oe={class:"corp"},de={class:"name_p"},re={key:0},ce={key:0,class:"text_p"},ue=["onClick"],me={key:1,class:"text_p"},pe={key:1,style:{"padding-left":"1.5rem","padding-right":"1.5rem","padding-bottom":"5rem","padding-top":"5rem",display:"flex","justify-content":"space-around"},slot:"content"},ge={key:1},_e=J((()=>(0,a._)("div",{style:{display:"flex","justify-content":"space-around","padding-top":"1rem","padding-bottom":"0.6rem"}},[(0,a._)("img",{src:o,style:{width:"60vw"}})],-1))),we=J((()=>(0,a._)("div",{style:{"padding-top":"0.9rem","text-align":"center"}}," Aucun produit à proposer ",-1))),ve=[_e,we],fe={key:2},ye=J((()=>(0,a._)("div",{class:"mytitle"},"Recommandations",-1))),ke=["src"],he=J((()=>(0,a._)("h2",null,"Option de livraison",-1))),be={key:0,class:""},We={key:0,style:{"padding-left":"1.5rem","padding-right":"1.5rem","padding-bottom":"1rem"},slot:"content"},Ue=["onClick"],Se={key:0,id:"acti",style:{display:"flex","justify-content":"space-around","padding-top":"99px"}},xe={key:1,class:"img_cont"},De={style:{width:"100%"}},Ce={class:"imgs"},ze=["onClick"],$e={key:0,id:"acti",style:{display:"flex","justify-content":"space-around","padding-top":"99px"}},je={class:"corp"},He={class:"name_p"},Oe={key:0},Te={key:0,class:"text_p"},Ze=["onClick"],qe={key:1,class:"text_p"},Ae={key:1,style:{"padding-left":"1.5rem","padding-right":"1.5rem","padding-bottom":"5rem","padding-top":"5rem",display:"flex","justify-content":"space-around"},slot:"content"},Be={key:1},Pe=J((()=>(0,a._)("div",{class:"mytitle"},"En attente de paiement...",-1))),Ee=J((()=>(0,a._)("img",{src:d,style:{width:"60vw"}},null,-1))),Je=[Ee],Fe={style:{"text-align":"center"}},Le={class:"link_text"},Ke={style:{width:"100%"}},Ie={key:1,style:{padding:"1rem"}},Ne={style:{padding:"1rem"}},Ye={key:2},Ve=J((()=>(0,a._)("div",{class:"mytitle_"},"Demande finalisée!",-1))),Ge=J((()=>(0,a._)("div",{style:{display:"flex","justify-content":"space-around","padding-top":"1rem","padding-bottom":"0.6rem"}},[(0,a._)("img",{src:r,style:{width:"60vw"}})],-1))),Qe=J((()=>(0,a._)("div",{style:{"padding-top":"0.8rem","text-align":"center","padding-bottom":"0.9rem"}}," Félicitation! La demande a été traitée avec success. Votre paiement est a été lancé. ",-1))),Re=[Ve,Ge,Qe],Me={key:3},Xe=J((()=>(0,a._)("div",{class:"mytitle_"}," Paiement reçu! En attente de satisfaction du client... ",-1))),et=J((()=>(0,a._)("div",{style:{display:"flex","justify-content":"space-around","padding-top":"1rem","padding-bottom":"0.6rem"}},[(0,a._)("img",{src:c,style:{width:"60vw"}})],-1))),tt={style:{"text-align":"center"}},it=J((()=>(0,a._)("div",{style:{"padding-top":"0.8rem","padding-left":"0.8rem","padding-right":"0.8rem","text-align":"center","padding-bottom":"0.9rem"}}," Le client doit valider le produit et marquer la demande comme satisfaite ",-1))),at=J((()=>(0,a._)("div",{style:{"min-height":"90vh"}},null,-1))),nt=(0,a.aZ)({__name:"DemPage",setup(e){const t=(0,n.iH)([]),i=(0,n.iH)(),s=(0,n.iH)([]),o=(0,n.iH)([]),d=(0,n.iH)(!1),r=(0,p.yj)(),c=(0,p.tv)(),v=r.params.id,f=(0,n.iH)(""),y=(0,n.iH)(!1),k=e=>JSON.stringify(e),h=async()=>{const e=await(0,g.QP)("Patientez..."),t=await _.Z.get(`v2/api/get_mydis/${v}`,{headers:{Authorization:`Bearer ${await(0,w.UT)(`/patner/dem/${v}`,c,e)}`}});if(t.data["done"]){i.value=t.data["result"]["mydis"],s.value=t.data["result"]["templates"],e.dismiss(),d.value=!0,f.value=i.value.demand.get_subs;const a=i.value.not_yet;if(a>0&&a<3){setInterval((async()=>{_.Z.get("v2/api/get_state/"+v+"/",{headers:{Authorization:`Bearer ${await(0,w.UT)(`/patner/dem/${v}`,c,e)}`}}).then((e=>{e.data["done"]&&e.data["result"]!=a&&c.go(0)}))}),58e3)}}},b=e=>{window.location.href=e},W=()=>{"En discussion"==i.value.demand.state?Ee.value=!0:(0,g.Lr)("Discussion non démarrée","Veuillez demarrer la discussion en contactant le client avant de lancer le paiement.")},U=async(e,t,i)=>{const a=await _.Z.post("v2/api/pprods_mm/"+i+"/",{min:e,max:t},{headers:{Authorization:`Bearer ${await(0,w.UT)("/patner/cat/"+v+"/",c,void 0)}`}});if(a.data["done"])for(const n of s.value){const i=n.sub_p;for(const n of i.get_min_max)n.min==e&&n.max==t&&(n.prods=a.data["result"])}},S=async()=>{const e=await(0,g.QP)("COnnexion..."),t=await _.Z.get("v2/api/set_discuss/"+v+"/",{headers:{Authorization:`Bearer ${await(0,w.UT)("/patner/cat/"+v+"/",c,e)}`}});t.data["done"]&&(e.dismiss(),await H(),(0,g.ob)("bottom","Cette demande est passée en discussion"),j("whatsapp://send/?phone="+i.value.demand.client.get_whatsapp+`Comment allez-vous? J'ai reçu votre *${i.value.demand.get_subs}*.`))},x=e=>{const i=[];for(const t of e.files)i.push(t.get_file);if(D(e))t.value=t.value.filter((e=>!i.includes(e)));else for(const a of e.files)t.value.includes(a.get_file)||t.value.push(a.get_file)},D=e=>{let i=!1;for(const a of e.files)if(i=t.value.includes(a.get_file),i)break;return i},C=()=>{t.value=[]},z=()=>{(0,g.uZ)("Êtes-vous sûre?","Cette action mettra fin au processus de paiement pour les articles selectionnés","Oui",$)},$=async()=>{const e=await(0,g.QP)("Loading...."),t=await _.Z.get(`v2/api/disable_payment/${v}`,{headers:{Authorization:`Bearer ${await(0,w.UT)("patner/dem/"+v+"/",c,e)}`}});t.data["done"]&&(e.dismiss(),document.location.reload())},j=e=>{window.location.href=e},H=((0,n.iH)(""),async()=>{Ee.value=!1,C(),await h()}),O=async()=>{const e=await _.Z.get(`v2/api/get_recoms/${v}`,{headers:{Authorization:`Bearer ${await(0,w.UT)(`/patner/dem/${v}`,c,void 0)}`}});e.data["done"]&&(o.value=e.data["result"])},T=async()=>{const e=await(0,g.QP)("Patienter..."),t=await _.Z.get("v2/api/delete_me/"+v+"/",{headers:{Authorization:`Bearer ${await(0,w.UT)(`/patner/dem/${v}`,c,e)}`}});t.data["done"]?(e.dismiss(),c.back(),(0,g.ob)("bottom","Cette demande a été supprimé.")):(e.dismiss(),(0,g.Lr)("Demande non finalisé","La demande doit être finalisée avant d'être supprimée"))},Z=e=>{t.value.includes(e)?t.value=t.value.filter((t=>t!=e)):t.value.push(e)},q=e=>{for(const t of s.value){const i=t.sub_p;for(const t of i.get_min_max)for(const a of t.prods)for(const t of a.files)if(t.get_file==e)return`${i.value.get_subs}_image_${t.id}`}return f.value},A=e=>{var t;const i=document.createElement("a");i.href=e,i.target="_blank","download"in i&&i.setAttribute("download",q(e)),(document.body||document.documentElement).appendChild(i),i.click&&i.click(),null===(t=i.parentNode)||void 0===t||t.removeChild(i)},B=e=>{fetch(e).then((e=>e.blob())).then((e=>{const t=URL.createObjectURL(e);setTimeout((function(){A(t)}),400)}))},P=(0,n.iH)(0),J=e=>e.length<250,_e=e=>J(e)?e:e.slice(0,248)+"...",we=e=>{for(const t of e)B(t)};(0,u.Yr)((async()=>{await h(),await O()}));const Ee=(0,n.iH)(!1),Ve=(0,a.Fl)((()=>{const e=[];for(const t of s.value){const i=t.sub_p;for(const t of i.get_min_max)for(const i of t.prods)D(i)&&e.push(i)}return e})),Ge=()=>[setTimeout((()=>{y.value=!0}),100)];return(e,r)=>{const c=(0,a.up)("ion-button"),p=(0,a.up)("ion-label"),g=(0,a.up)("ion-item"),_=(0,a.up)("ion-list"),w=(0,a.up)("ion-spinner"),v=(0,a.up)("ion-input");return(0,a.wg)(),(0,a.j4)((0,n.SU)(u._i),null,{default:(0,a.w5)((()=>[t.value.length?((0,a.wg)(),(0,a.j4)((0,n.SU)(u.Gu),{key:1},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.sr),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.Sm),{slot:"start"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{onClick:r[1]||(r[1]=e=>C())},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.gu),{color:"danger",slot:"icon-only",icon:(0,n.SU)(m.XRs)},null,8,["icon"])])),_:1})])),_:1}),(0,a.Wm)((0,n.SU)(u.Sm),{slot:"end"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{onClick:r[2]||(r[2]=e=>we(t.value))},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.gu),{color:"secondary",slot:"icon-only",icon:(0,n.SU)(m.LRf)},null,8,["icon"])])),_:1}),(0,a.Wm)(c,{onClick:r[3]||(r[3]=e=>W())},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.gu),{color:"tertiary",slot:"icon-only",icon:(0,n.SU)(m.MJY)},null,8,["icon"])])),_:1})])),_:1}),(0,a.Wm)((0,n.SU)(u.wd),null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(t.value.length)+" selectionné",1),(0,a._)("span",{innerHTML:t.value.length>1?"s":""},null,8,F)])),_:1})])),_:1})])),_:1})):((0,a.wg)(),(0,a.j4)((0,n.SU)(u.Gu),{key:0},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.sr),{color:"tertiary"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.Sm),{slot:"start"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.oU),{"default-href":"/patner/dem"})])),_:1}),(0,a.Wm)((0,n.SU)(u.wd),null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(f.value),1)])),_:1}),(0,a.Wm)((0,n.SU)(u.Sm),{slot:"end"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{onClick:r[0]||(r[0]=e=>T())},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.gu),{slot:"icon-only",icon:(0,n.SU)(m._Ij)},null,8,["icon"])])),_:1})])),_:1})])),_:1})])),_:1})),d.value?((0,a.wg)(),(0,a.j4)((0,n.SU)(u.W2),{key:2},{default:(0,a.w5)((()=>[(0,a.Wm)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.BJ),{slot:"start"},{default:(0,a.w5)((()=>[L])),_:1}),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a._)("h3",null,(0,l.zw)(i.value.demand.client.get_complete_name),1),(0,a._)("p",null,[(0,a.Wm)((0,n.SU)(u.gu),{icon:(0,n.SU)(m.xhW),style:{position:"relative",top:"0.2rem"}},null,8,["icon"]),(0,a.Uk)(" "+(0,l.zw)(i.value.demand.get_quart.name),1)])])),_:1}),(0,a.Wm)((0,n.SU)(u.Sm),{slot:"end"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{onClick:r[4]||(r[4]=e=>S())},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.gu),{color:"secondary",slot:"icon-only",icon:(0,n.SU)(m.tl2)},null,8,["icon"])])),_:1}),(0,a.Wm)(c,{onClick:r[5]||(r[5]=e=>j(`tel:${i.value.demand.client.get_phone}`))},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.gu),{color:"primary",slot:"icon-only",icon:(0,n.SU)(m.REe)},null,8,["icon"])])),_:1})])),_:1})])),_:1}),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[K,(0,a._)("div",null,[(0,a._)("div",I,[(0,a._)("div",{style:(0,l.j5)({"background-color":i.value.demand.get_color}),class:"indic"},null,4),(0,a._)("div",N,(0,l.zw)(i.value.demand.state),1)])])])),_:1}),(0,a.Wm)((0,n.SU)(u.gu),{icon:(0,n.SU)(m.n3I),size:"large",slot:"start"},null,8,["icon"])])),_:1})])),_:1}),"En attente"==i.value.demand.state||"En discussion"==i.value.demand.state&&!i.value.has_validate?((0,a.wg)(),(0,a.iD)("div",Y,[V,s.value.length?((0,a.wg)(),(0,a.iD)("div",G,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.value,(i=>((0,a.wg)(),(0,a.iD)("div",{key:i.id},[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.BJ),{slot:"start"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:i.sub_p.get_spicture},null,8,Q)])),_:2},1024),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a._)("h3",null,(0,l.zw)(i.sub_p.get_sname),1),(0,a._)("p",null,(0,l.zw)(i.sub_p.p_count)+" produits",1)])),_:2},1024),(0,a.Wm)((0,n.SU)(u.Sm),{slot:"end"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{onClick:e=>b(`whatsapp://send/?phone=${i.sub_p.get_swhatsapp}&text=J'aimerais proceder au changement de mon mot de passe`)},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.gu),{color:"secondary",slot:"icon-only",icon:(0,n.SU)(m.tl2)},null,8,["icon"])])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[R,(0,a._)("p",null,(0,l.zw)(i.sub_p.livraison),1)])),_:2},1024),(0,a.Wm)((0,n.SU)(u.gu),{icon:(0,n.SU)(m.xhW),slot:"end"},null,8,["icon"])])),_:2},1024),i.sub_p.get_min_max.length?((0,a.wg)(),(0,a.iD)("div",M,[(0,a.Wm)((0,n.SU)(u.eh),{multiple:!0},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.sub_p.get_min_max,(s=>((0,a.wg)(),(0,a.j4)((0,n.SU)(u.We),{key:s.id,value:k(s),"toggle-icon":e.caretDownCircle,"toggle-icon-slot":"start"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{onClick:e=>s.prods.length?0:U(s.min,s.max,i.sub_p.id),slot:"header",color:"light"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Entre "+(0,l.zw)(s.min)+" et "+(0,l.zw)(s.max)+" FCFA",1)])),_:2},1024)])),_:2},1032,["onClick"]),s.prods.length?((0,a.wg)(),(0,a.iD)("div",X,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.prods,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"card"},[1==e.files.length?((0,a.wg)(),(0,a.iD)("div",{key:0,onClick:t=>Z(e.files[0].get_file),style:(0,l.j5)({width:"100%",height:"240px","border-radius":"10px","background-size":"cover","background-position":"top center","background-image":`url('${e.files[0].get_file}')`,"margin-bottom":"0.6rem"})},[(0,a._)("div",{class:(0,l.C_)(["cont_img",{activ:t.value.includes(e.files[0].get_file)}])},[t.value.includes(e.files[0].get_file)?((0,a.wg)(),(0,a.iD)("div",te,[(0,a._)("div",null,[(0,a.Wm)((0,n.SU)(u.gu),{icon:(0,n.SU)(m.nT7),size:"large"},null,8,["icon"])])])):(0,a.kq)("",!0)],2)],12,ee)):((0,a.wg)(),(0,a.iD)("div",ie,[(0,a._)("div",ae,[(0,a._)("div",ne,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.files,(e=>((0,a.wg)(),(0,a.iD)("div",{id:"prod:25",class:"mr-2 first_m f_border",key:e.id,onClick:t=>Z(e.get_file),style:(0,l.j5)({width:"100%",height:"210px",width:"230px","min-width":"230px","background-size":"cover","background-position":"top center","background-image":`url('${e.get_file}')`,"margin-bottom":"0.6rem"})},[(0,a._)("div",{class:(0,l.C_)(["cont_img",{activ:t.value.includes(e.get_file)}])},[t.value.includes(e.get_file)?((0,a.wg)(),(0,a.iD)("div",se,[(0,a._)("div",null,[(0,a.Wm)((0,n.SU)(u.gu),{icon:(0,n.SU)(m.nT7),size:"large"},null,8,["icon"])])])):(0,a.kq)("",!0)],2)],12,le)))),128))])])])),(0,a._)("div",oe,[(0,a._)("div",de,(0,l.zw)(e.name),1),e.details?((0,a.wg)(),(0,a.iD)("div",re,[P.value!=e.id?((0,a.wg)(),(0,a.iD)("div",ce,[(0,a.Uk)((0,l.zw)(_e(e.details)),1),J(e.details)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",{key:0,style:{color:"blue","text-decoration":"underline"},onClick:t=>P.value=e.id},"Voir plus",8,ue))])):((0,a.wg)(),(0,a.iD)("div",me,[(0,a.Uk)((0,l.zw)(e.details),1),(0,a._)("a",{style:{color:"blue","text-decoration":"underline"},onClick:r[6]||(r[6]=e=>P.value=0)},"Voir moins")]))])):(0,a.kq)("",!0)]),(0,a.Wm)(g,{onClick:t=>x(e),mode:"ios"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.nz),{slot:"start",checked:D(e),color:"tertiary"},null,8,["checked"]),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Selectionner ce produit")])),_:1})])),_:2},1032,["onClick"])])))),128))])):((0,a.wg)(),(0,a.iD)("div",pe,[(0,a._)("div",null,[(0,a.Wm)(w,{color:"tertiary",name:"crescent"})])]))])),_:2},1032,["value","toggle-icon"])))),128))])),_:2},1024)])):(0,a.kq)("",!0)])))),128))])):((0,a.wg)(),(0,a.iD)("div",ge,ve)),o.value.length?((0,a.wg)(),(0,a.iD)("div",fe,[ye,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(o.value,(i=>((0,a.wg)(),(0,a.iD)("div",{key:i.id},[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.BJ),{slot:"start"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:i.get_spicture},null,8,ke)])),_:2},1024),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a._)("h3",null,(0,l.zw)(i.get_sname),1),(0,a._)("p",null,(0,l.zw)(i.p_count)+" produits",1)])),_:2},1024),(0,a.Wm)((0,n.SU)(u.Sm),{slot:"end"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{onClick:t=>e.window.location.href=`whatsapp://send/?phone=${i.get_swhatsapp}&text=J'aimerais proceder au changement de mon mot de passe`},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.gu),{color:"secondary",slot:"icon-only",icon:(0,n.SU)(m.tl2)},null,8,["icon"])])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[he,(0,a._)("p",null,(0,l.zw)(i.livraison),1)])),_:2},1024),(0,a.Wm)((0,n.SU)(u.gu),{icon:(0,n.SU)(m.xhW),slot:"end"},null,8,["icon"])])),_:2},1024),i.get_min_max.length?((0,a.wg)(),(0,a.iD)("div",be,[(0,a.Wm)((0,n.SU)(u.eh),{multiple:!0},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.get_min_max,(s=>((0,a.wg)(),(0,a.j4)((0,n.SU)(u.We),{key:s.id,value:k(s),"toggle-icon":e.caretDownCircle,"toggle-icon-slot":"start"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{onClick:e=>s.prods.length?0:U(s.min,s.max,i.id),slot:"header",color:"light"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Entre "+(0,l.zw)(s.min)+" et "+(0,l.zw)(s.max)+" FCFA",1)])),_:2},1024)])),_:2},1032,["onClick"]),s.prods.length?((0,a.wg)(),(0,a.iD)("div",We,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.prods,(e=>((0,a.wg)(),(0,a.iD)("div",{key:e.id,class:"card"},[1==e.files.length?((0,a.wg)(),(0,a.iD)("div",{key:0,onClick:t=>Z(e.files[0].get_file),style:(0,l.j5)({width:"100%",height:"240px","border-radius":"10px","background-size":"cover","background-position":"top center","background-image":`url('${e.files[0].get_file}')`,"margin-bottom":"0.6rem"})},[(0,a._)("div",{class:(0,l.C_)(["cont_img",{activ:t.value.includes(e.files[0].get_file)}])},[t.value.includes(e.files[0].get_file)?((0,a.wg)(),(0,a.iD)("div",Se,[(0,a._)("div",null,[(0,a.Wm)((0,n.SU)(u.gu),{icon:(0,n.SU)(m.nT7),size:"large"},null,8,["icon"])])])):(0,a.kq)("",!0)],2)],12,Ue)):((0,a.wg)(),(0,a.iD)("div",xe,[(0,a._)("div",De,[(0,a._)("div",Ce,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.files,(e=>((0,a.wg)(),(0,a.iD)("div",{id:"prod:25",class:"mr-2 first_m f_border",key:e.id,onClick:t=>Z(e.get_file),style:(0,l.j5)({width:"100%",height:"210px",width:"230px","min-width":"230px","background-size":"cover","background-position":"top center","background-image":`url('${e.get_file}')`,"margin-bottom":"0.6rem"})},[(0,a._)("div",{class:(0,l.C_)(["cont_img",{activ:t.value.includes(e.get_file)}])},[t.value.includes(e.get_file)?((0,a.wg)(),(0,a.iD)("div",$e,[(0,a._)("div",null,[(0,a.Wm)((0,n.SU)(u.gu),{icon:(0,n.SU)(m.nT7),size:"large"},null,8,["icon"])])])):(0,a.kq)("",!0)],2)],12,ze)))),128))])])])),(0,a._)("div",je,[(0,a._)("div",He,(0,l.zw)(e.name),1),e.details?((0,a.wg)(),(0,a.iD)("div",Oe,[P.value!=e.id?((0,a.wg)(),(0,a.iD)("div",Te,[(0,a.Uk)((0,l.zw)(_e(e.details)),1),J(e.details)?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("a",{key:0,style:{color:"blue","text-decoration":"underline"},onClick:t=>P.value=e.id},"Voir plus",8,Ze))])):((0,a.wg)(),(0,a.iD)("div",qe,[(0,a.Uk)((0,l.zw)(e.details),1),(0,a._)("a",{style:{color:"blue","text-decoration":"underline"},onClick:r[7]||(r[7]=e=>P.value=0)},"Voir moins")]))])):(0,a.kq)("",!0)]),(0,a.Wm)(g,{onClick:t=>x(e),mode:"ios"},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.nz),{slot:"start",checked:D(e),color:"tertiary"},null,8,["checked"]),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Uk)("Selectionner ce produit")])),_:1})])),_:2},1032,["onClick"])])))),128))])):((0,a.wg)(),(0,a.iD)("div",Ae,[(0,a._)("div",null,[(0,a.Wm)(w,{color:"tertiary",name:"crescent"})])]))])),_:2},1032,["value","toggle-icon"])))),128))])),_:2},1024)])):(0,a.kq)("",!0)])))),128))])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),"En discussion"==i.value.demand.state&&i.value.has_validate?((0,a.wg)(),(0,a.iD)("div",Be,[Pe,(0,a._)("div",{onClick:r[8]||(r[8]=e=>y.value=!1),style:{display:"flex","justify-content":"space-around","padding-top":"1rem","padding-bottom":"0.6rem"}},Je),(0,a._)("div",Fe,[(0,a.Wm)(w,{name:"dots"})]),(0,a._)("div",{onClick:r[9]||(r[9]=e=>y.value=!1),style:{"padding-top":"0.8rem","text-align":"center","padding-bottom":"0.9rem"}}," Lien de paiement "),y.value?((0,a.wg)(),(0,a.iD)("div",Ie,[(0,a.Wm)(g,{color:"tertiary",mode:"md",fill:"outline"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{position:"floating"},{default:(0,a.w5)((()=>[(0,a.Uk)("Copier le lien")])),_:1}),(0,a.Wm)(v,{type:"text",readonly:"",value:`https://api.zawadi.site/v2/pay/dem:${i.value.demand.id}/`,id:"password"},null,8,["value"])])),_:1})])):((0,a.wg)(),(0,a.iD)("div",{key:0,onClick:r[10]||(r[10]=e=>Ge()),class:"link"},[(0,a._)("div",Le,[(0,a._)("div",Ke,(0,l.zw)(`https://www.zawadi.site/pay/dem:${i.value.demand.id}/`),1)])])),(0,a._)("div",Ne,[(0,a.Wm)(c,{onClick:r[11]||(r[11]=e=>z()),type:"submit",expand:"full"},{default:(0,a.w5)((()=>[(0,a.Uk)("Annuler")])),_:1})])])):(0,a.kq)("",!0),"Satisfaite"==i.value.demand.state?((0,a.wg)(),(0,a.iD)("div",Ye,Re)):(0,a.kq)("",!0),"En attente de satisfaction"==i.value.demand.state?((0,a.wg)(),(0,a.iD)("div",Me,[Xe,et,(0,a._)("div",tt,[(0,a.Wm)(w,{name:"dots"})]),it])):(0,a.kq)("",!0),(0,a.Wm)(E,{isOpen:Ee.value,mprods:(0,n.SU)(Ve),disId:i.value.id,onClose:r[12]||(r[12]=e=>Ee.value=!1),onDone:H},null,8,["isOpen","mprods","disId"])])),_:1})):((0,a.wg)(),(0,a.j4)((0,n.SU)(u.W2),{key:3},{default:(0,a.w5)((()=>[at])),_:1})),(0,a.Wm)((0,n.SU)(u.ki),{mode:"ios","is-open":!1},{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.Gu),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.sr),null,{default:(0,a.w5)((()=>[(0,a.Wm)((0,n.SU)(u.wd),null,{default:(0,a.w5)((()=>[(0,a.Uk)("Historique de paiement")])),_:1}),(0,a.Wm)((0,n.SU)(u.Sm),{slot:"end"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{onClick:r[13]||(r[13]=t=>e.rOpen=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Fermer")])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)((0,n.SU)(u.W2),{class:"ion-padding"})])),_:1})])),_:1})}}}),lt=(0,B.Z)(nt,[["__scopeId","data-v-dbfa8a50"]]),st=lt},7532:(e,t,i)=>{e.exports=i.p+"img/empty_p.50756239.svg"},922:(e,t,i)=>{e.exports=i.p+"img/user.0134ec88.png"}}]);
//# sourceMappingURL=45.9d53b0d4.js.map