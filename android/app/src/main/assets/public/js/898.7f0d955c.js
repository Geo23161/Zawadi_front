"use strict";(self["webpackChunkZawadi"]=self["webpackChunkZawadi"]||[]).push([[898],{8071:(e,t,a)=>{a.d(t,{BO:()=>r,UT:()=>o,ZP:()=>i});a(8862),a(7658);var s=a(3978),n=a(8433);const r=async()=>{const e=new s.K({name:"patner_info"});e.create();const t=await e.get("ptoken");if(!t)return!1;{const s=JSON.parse(t);try{const e=await(0,n.Z)({url:"v2/ping",method:"GET",headers:{Authorization:`Bearer ${s.access}`}});if(e.data["done"])return!0}catch(a){if(401==a.response.status){const t=new FormData;t.append("refresh",s.refresh);try{const a=await(0,n.Z)({url:"api/token/refresh/",method:"POST",data:t});return s.access=a.data["access"],e.set("ptoken",JSON.stringify(s)),!0}catch(a){if(401==a.response.status)return!1}}}}},o=async(e,t,a)=>{const r=new s.K({name:"patner_info"});r.create();const o=await r.get("ptoken");if(!o)return a&&a.dismiss(),t.push(`/seller?redirect=${e}`);{const a=JSON.parse(o);try{await(0,n.Z)({url:"v2/ping",method:"GET",headers:{Authorization:`Bearer ${a.access}`}});return a.access}catch(i){if(401==i.response.status){const s=new FormData;s.append("refresh",a.refresh);try{const e=await(0,n.Z)({url:"api/token/refresh/",method:"POST",data:s});return a.access=e.data["access"],r.set("ptoken",JSON.stringify(a)),e.data["access"]}catch(i){if(401==i.response.status)return t.push(`/seller?redirect=${e}`)}}}}},i=o},5402:(e,t,a)=>{a.d(t,{BO:()=>o,Lr:()=>l,QP:()=>i,UT:()=>d,bw:()=>m,ob:()=>u,uZ:()=>c});a(8862),a(7658);var s=a(3978),n=a(3274),r=a(8433);const o=async()=>{const e=new s.K({name:"seller_info"});e.create();const t=await e.get("stoken");if(!t)return!1;{const s=JSON.parse(t);try{const e=await(0,r.Z)({url:"v2/ping",method:"GET",headers:{Authorization:`Bearer ${s.access}`}});if(e.data["done"])return!0}catch(a){if(401==a.response.status){const t=new FormData;t.append("refresh",s.refresh);try{const a=await(0,r.Z)({url:"api/token/refresh/",method:"POST",data:t});return s.access=a.data["access"],e.set("stoken",JSON.stringify(s)),!0}catch(a){if(401==a.response.status)return!1}}}}},i=async e=>{const t=await n.G0.create({message:e});return t.present(),t},l=async(e,t)=>{const a=await n.Cl.create({header:e,message:t,buttons:["OK"]});await a.present()},c=async(e,t,a,s)=>{const r=await n.Cl.create({header:e,message:t,buttons:[{text:"Fermer",role:"cancel"},{text:a,role:"confirm",handler:()=>{s()}}]});await r.present()},u=async(e,t,a="primary")=>{const s=await n.Mn.create({mode:"ios",message:t,position:e,duration:3900,color:a});await s.present()},d=async(e,t,a)=>{const n=new s.K({name:"seller_info"});n.create();const o=await n.get("stoken");if(!o)return a&&a.dismiss(),t.push(`/seller?redirect=${e}`);{const a=JSON.parse(o);try{await(0,r.Z)({url:"v2/ping",method:"GET",headers:{Authorization:`Bearer ${a.access}`}});return a.access}catch(i){if(401==i.response.status){const s=new FormData;s.append("refresh",a.refresh);try{const e=await(0,r.Z)({url:"api/token/refresh/",method:"POST",data:s});return a.access=e.data["access"],n.set("stoken",JSON.stringify(a)),e.data["access"]}catch(i){if(401==i.response.status)return t.push(`/seller?redirect=${e}`)}}}}},m=e=>{window.location.href="tel:"+e}},1786:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});a(8862),a(7658);var s=a(6252),n=a(2262),r=a(9963),o=a(1787),i=a(6545),l=a(5560),c=a(1499);const u=a.p+"img/p_log.1d67efb2.svg";var d=a(3274),m=a(8903),p=a(2201),w=a(8071),f=a(5402),_=a(3978),h=a(8433),v=a(9564);const g=e=>((0,s.dD)("data-v-657f5dc0"),e=e(),(0,s.Cn)(),e),S=g((()=>(0,s._)("img",{src:o},null,-1))),y=g((()=>(0,s._)("img",{src:i},null,-1))),U=g((()=>(0,s._)("img",{src:l},null,-1))),k=g((()=>(0,s._)("img",{src:c},null,-1))),W={class:"body_all"},b={class:"header"},Z={class:"menu"},O=g((()=>(0,s._)("div",{class:"title_m"},[(0,s._)("div",{class:"img_cont"},[(0,s._)("img",{src:l,class:"img_m"})]),(0,s._)("div",{class:"text_m"},"Zawadi")],-1))),C=g((()=>(0,s._)("div",{class:"title_b"},"Connexion.",-1))),I=g((()=>(0,s._)("div",{class:"body_i"},[(0,s._)("img",{src:u,class:"img_b"})],-1))),J={class:"form_b"},P={class:"d_sp"},$={class:"d_sp"},B=g((()=>(0,s._)("div",{style:{"padding-top":"0rem"}},[(0,s._)("a",{href:"whatsapp://send?text=J'aimerais proceder au changement de mon mot de passe",style:{color:"orange","text-decoration":"underline"}},"Mot de passe oublié?")],-1))),x={key:0,style:{"padding-top":"0.4rem"}},T={key:1},Q={class:"d_sp",style:{"text-align":"center",color:"rgb(41, 41, 41)"}},z=(0,s.aZ)({__name:"PatnerLogin",setup(e){v.A_.setBackgroundColor({color:"#F28241"});const t=(0,n.iH)(""),a=(0,n.iH)(""),o=(0,p.tv)(),i=(0,n.iH)(!1),l=(0,p.yj)(),c=async()=>{const e=new FormData;e.append("email",t.value);const a=await(0,h.Z)({url:"v2/api/has_paccount/",method:"POST",data:e});return a.data["done"]},u=e=>{window.location.href=e},g=e=>{(0,f.QP)("Loading..."),window.location.href=e},z=async()=>{const e=await(0,f.QP)("Connexion...");if(!await c())return e.dismiss(),(0,f.Lr)("Connexion impossible","Veuillez vérifier vos identifiants.");(0,h.Z)({url:"api/token/",method:"POST",data:{email:"patner"+t.value,password:a.value}}).then((s=>{e.dismiss();const n=new _.K({name:"patner_info"});n.create(),n.set("ptoken",JSON.stringify(s.data)),n.set("email",t.value),n.set("password",a.value),"redirect"in l.query&&o.push(l.query.redirect),o.push("/patner/home")})).catch((t=>(e.dismiss(),console.log(t),(0,f.Lr)("Connexion impossible","Veuillez vérifier vos identifiants."))))};return(0,d.Yr)((async()=>{const e=localStorage.getItem("new_p");if(e){const s=JSON.parse(e);t.value=s.email,a.value=s.password,localStorage.removeItem("new_p"),await z()}const s=await(0,w.BO)();if(s)o.push("/patner/home");else{const e=new _.K({name:"patner_info"});e.create();const s=await e.get("email"),n=await e.get("password");s&&(t.value=s),n&&(a.value=n)}})),(e,l)=>{const c=(0,s.up)("ion-title"),p=(0,s.up)("ion-toolbar"),w=(0,s.up)("ion-header"),f=(0,s.up)("ion-footer"),_=(0,s.up)("ion-icon");return(0,s.wg)(),(0,s.j4)((0,n.SU)(d._i),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,n.SU)(d.z0),{class:"poino","content-id":"main-content"},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{mode:"ios"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Uk)("Menu")])),_:1})])),_:1})])),_:1}),(0,s.Wm)((0,n.SU)(d.W2),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,n.SU)(d.q_),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,n.SU)(d.Ie),{detail:"true",onClick:l[0]||(l[0]=e=>g("/acheteur")),button:""},{default:(0,s.w5)((()=>[(0,s.Wm)((0,n.SU)(d.BJ),{slot:"start"},{default:(0,s.w5)((()=>[S])),_:1}),(0,s.Wm)((0,n.SU)(d.Q$),null,{default:(0,s.w5)((()=>[(0,s.Uk)(" Zawadi Acheteur ")])),_:1})])),_:1}),(0,s.Wm)((0,n.SU)(d.Ie),{onClick:l[1]||(l[1]=e=>g("/seller")),detail:"true",button:""},{default:(0,s.w5)((()=>[(0,s.Wm)((0,n.SU)(d.BJ),{slot:"start"},{default:(0,s.w5)((()=>[y])),_:1}),(0,s.Wm)((0,n.SU)(d.Q$),null,{default:(0,s.w5)((()=>[(0,s.Uk)(" Zawadi Vendeur ")])),_:1})])),_:1}),(0,s.Wm)((0,n.SU)(d.Ie),{color:"tertiary",detail:"true",button:""},{default:(0,s.w5)((()=>[(0,s.Wm)((0,n.SU)(d.BJ),{slot:"start"},{default:(0,s.w5)((()=>[U])),_:1}),(0,s.Wm)((0,n.SU)(d.Q$),null,{default:(0,s.w5)((()=>[(0,s.Uk)(" Zawadi Partenaire ")])),_:1})])),_:1}),(0,s.Wm)((0,n.SU)(d.Ie),{detail:"true",onClick:l[2]||(l[2]=e=>u("https://www.zawadi.site/blog")),button:""},{default:(0,s.w5)((()=>[(0,s.Wm)((0,n.SU)(d.BJ),{slot:"start"},{default:(0,s.w5)((()=>[k])),_:1}),(0,s.Wm)((0,n.SU)(d.Q$),null,{default:(0,s.w5)((()=>[(0,s.Uk)(" Zawadi Blog ")])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(f,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{mode:"ios"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Uk)(" © Elife Global")])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)((0,n.SU)(d.W2),null,{default:(0,s.w5)((()=>[(0,s._)("div",W,[(0,s._)("form",{onSubmit:l[6]||(l[6]=(0,r.iM)((e=>z()),["prevent"]))},[(0,s._)("div",b,[(0,s.Wm)((0,n.SU)(d.zc),null,{default:(0,s.w5)((()=>[(0,s._)("div",Z,[(0,s.Wm)(_,{icon:(0,n.SU)(m.GIQ)},null,8,["icon"])])])),_:1}),O]),C,I,(0,s._)("div",J,[(0,s._)("div",P,[(0,s.Wm)((0,n.SU)(d.Ie),{fill:"outline",mode:"md",color:"tertiary"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,n.SU)(d.Q$),{position:"floating"},{default:(0,s.w5)((()=>[(0,s.Uk)("Email")])),_:1}),(0,s.Wm)((0,n.SU)(d.pK),{required:"",value:t.value,type:"email",onIonInput:l[3]||(l[3]=e=>t.value=e.target.value)},null,8,["value"])])),_:1})]),(0,s._)("div",$,[(0,s.Wm)((0,n.SU)(d.Ie),{fill:"outline",mode:"md",color:"tertiary"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,n.SU)(d.Q$),{position:"floating"},{default:(0,s.w5)((()=>[(0,s.Uk)(" Mot de passe ")])),_:1}),(0,s.Wm)((0,n.SU)(d.pK),{type:"password",required:"",value:a.value,onIonInput:l[4]||(l[4]=e=>a.value=e.target.value)},null,8,["value"])])),_:1})]),B,i.value?((0,s.wg)(),(0,s.iD)("div",T,[(0,s.Wm)((0,n.SU)(d.PQ),{color:"tertiary",name:"dots"})])):((0,s.wg)(),(0,s.iD)("div",x,[(0,s.Wm)((0,n.SU)(d.YG),{type:"submit",color:"tertiary",expand:"full"},{default:(0,s.w5)((()=>[(0,s.Uk)("Connexion")])),_:1})])),(0,s._)("div",Q,[(0,s.Uk)(" Pas encore membre ? "),(0,s._)("a",{onClick:l[5]||(l[5]=e=>(0,n.SU)(o).push("/patner/register")),style:{color:"orange"}},"Inscrivez-vous ici")])])],32)])])),_:1})])),_:1})}}});var N=a(3744);const K=(0,N.Z)(z,[["__scopeId","data-v-657f5dc0"]]),D=K}}]);
//# sourceMappingURL=898.7f0d955c.js.map