"use strict";(self["webpackChunkZawadi"]=self["webpackChunkZawadi"]||[]).push([[537],{5170:(e,t,a)=>{a.d(t,{Z:()=>z});var n=a(6252),l=a(9963),i=a(3577),o=a(922);const u=e=>((0,n.dD)("data-v-7a52bb2c"),e=e(),(0,n.Cn)(),e),s=u((()=>(0,n._)("div",{class:"aid"},[(0,n._)("div",{style:{"margin-right":"0.6rem"}},[(0,n._)("img",{src:o,class:"myimg"})]),(0,n._)("div",null,"Mettez votre profil à jour")],-1))),r={class:"d_sp",style:{display:"flex"}},p={class:"d_sp"},d={class:"d_sp spec"},m=u((()=>(0,n._)("div",{class:"label"},"Whatsapp",-1))),c={class:"d_sp spec"},v=u((()=>(0,n._)("div",{class:"label"},"Numero de téléphone",-1))),_=["value"],f={class:"d_sp"},w=u((()=>(0,n._)("div",{style:{"padding-top":"0.4rem",color:"rgb(41, 41, 41)","padding-bottom":"0.4rem"}}," Entrez le nom de votre quartier ou d'un lieu connu proche ",-1))),g={key:0},h={key:1},y={style:{padding:"1rem"}};function W(e,t,a,o,u,W){const b=(0,n.up)("ion-title"),k=(0,n.up)("ion-button"),j=(0,n.up)("ion-buttons"),q=(0,n.up)("ion-toolbar"),I=(0,n.up)("ion-header"),C=(0,n.up)("ion-label"),H=(0,n.up)("ion-input"),U=(0,n.up)("ion-item"),S=(0,n.up)("ion-checkbox"),O=(0,n.up)("ion-icon"),z=(0,n.up)("ion-list"),x=(0,n.up)("ion-content"),D=(0,n.up)("ion-modal"),N=(0,n.up)("location-picker");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(D,{"is-open":e.isOpen},{default:(0,n.w5)((()=>[(0,n.Wm)(I,{mode:"ios"},{default:(0,n.w5)((()=>[(0,n.Wm)(q,null,{default:(0,n.w5)((()=>[(0,n.Wm)(b,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Profile Acheteur")])),_:1}),(0,n.Wm)(j,{slot:"end"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{onClick:t[0]||(t[0]=t=>e.close())},{default:(0,n.w5)((()=>[(0,n.Uk)("Fermer")])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)(x,{class:"ion-padding"},{default:(0,n.w5)((()=>[s,(0,n._)("form",{onSubmit:t[8]||(t[8]=(0,l.iM)((t=>e.validate_profil()),["prevent"]))},[(0,n.Wm)(z,{mode:"md"},{default:(0,n.w5)((()=>[(0,n._)("div",r,[(0,n.Wm)(U,{fill:"outline",mode:"md",style:{"margin-right":"0.3rem"}},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{position:"floating"},{default:(0,n.w5)((()=>[(0,n.Uk)("Nom")])),_:1}),(0,n.Wm)(H,{required:"",id:"last_name",value:e.last_name,onIonInput:t[1]||(t[1]=t=>e.last_name=t.target.value)},null,8,["value"])])),_:1}),(0,n.Wm)(U,{fill:"outline",mode:"md",style:{"margin-left":"0.3rem"}},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{position:"floating"},{default:(0,n.w5)((()=>[(0,n.Uk)("Prénom")])),_:1}),(0,n.Wm)(H,{required:"",value:e.first_name,onIonInput:t[2]||(t[2]=t=>e.first_name=t.target.value),id:"first_name"},null,8,["value"])])),_:1})]),(0,n._)("div",p,[(0,n.Wm)(U,{fill:"outline"},{default:(0,n.w5)((()=>[(0,n.Wm)(C,{position:"floating"},{default:(0,n.w5)((()=>[(0,n.Uk)("Email")])),_:1}),(0,n.Wm)(H,{type:"email",required:"",value:e.email,onIonInput:t[3]||(t[3]=t=>e.email=t.target.value),id:"email"},null,8,["value"])])),_:1})]),(0,n._)("div",d,[m,(0,n._)("div",null,[(0,n._)("input",{required:"",onInput:t[4]||(t[4]=t=>e.rwhatsapp=t.target.value),id:"phone",class:"myinput",type:"number"},null,32)])]),(0,n.Wm)(U,{onClick:t[5]||(t[5]=t=>e.same=!e.same)},{default:(0,n.w5)((()=>[(0,n.Wm)(S,{checked:e.same,slot:"start"},null,8,["checked"]),(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Même numéro pour les appels ")])),_:1})])),_:1}),(0,n.wy)((0,n._)("div",c,[v,(0,n._)("div",null,[(0,n._)("input",{id:"phone2",value:e.phone,"on:ionInput":t[6]||(t[6]=t=>e.rphone=t.target.value),class:"myinput",type:"number"},null,40,_)])],512),[[l.F8,!e.same]]),(0,n._)("div",f,[w,(0,n._)("div",{class:(0,i.C_)(["myinp",{acto:""!=e.quart,norm:""==e.quart}]),onClick:t[7]||(t[7]=t=>e.lOpen=!e.lOpen)},[""==e.quart?((0,n.wg)(),(0,n.iD)("div",g,"Aucun nom entré")):((0,n.wg)(),(0,n.iD)("div",h,(0,i.zw)(e.print_quart_name(e.quart)),1)),(0,n._)("div",null,[(0,n.Wm)(O,{icon:e.location},null,8,["icon"])])],2)])])),_:1}),(0,n._)("div",y,[(0,n.Wm)(k,{type:"submit",expand:"full"},{default:(0,n.w5)((()=>[(0,n.Uk)("Valider")])),_:1})])],32)])),_:1})])),_:1},8,["is-open"]),(0,n.Wm)(D,{mode:"ios","is-open":!1},{default:(0,n.w5)((()=>[(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Hey you ")])),_:1})])),_:1}),(0,n.Wm)(N,{isOpen:e.lOpen,onClose:t[9]||(t[9]=t=>e.lOpen=!1),onDone:e.al},null,8,["isOpen","onDone"])],64)}var b=a(2262),k=a(3274),j=a(8699),q=a.n(j),I=a(3978),C=a(930);function H(e){fetch("https://ipinfo.io/json?token=d737ce5f6899f5",{headers:{Accept:"application/json"}}).then((e=>e.json())).catch((()=>({country:"bj"}))).then((t=>{e(t.country)}))}const U=(0,n.aZ)({props:{isOpen:Boolean},components:{IonModal:k.ki,LocationPicker:C.Z},setup(e,{emit:t}){const a=(0,b.iH)(!0),l=(0,b.iH)(),i=((0,n.Bz)(["close","done"]),(0,b.iH)(""),(0,b.iH)("")),o=((0,b.iH)(""),(0,b.iH)("")),u=(0,b.iH)(""),s=(0,b.iH)(!0),r=(0,b.iH)(""),p=(0,b.iH)(""),d=(0,b.iH)(!1),m=(0,b.iH)(""),c=async(e,t)=>{const a=await k.Cl.create({header:e,message:t,buttons:["OK"]});await a.present()},v=new I.K({name:"client_info"});v.create();const _=async()=>{const e=await v.get("whatsapp");if(e){const t=await v.get("first_name"),a=await v.get("last_name"),n=await v.get("email"),l=await v.get("phone"),s=await v.get("quart");m.value=s,u.value=t,r.value=a,p.value=n,o.value=l,i.value=e}console.log("Donnnnnnnnnneeee")};_();const f=()=>{t("close")},w=e=>{l.value=e},g=e=>{const t=JSON.parse(e);return t.name};let h,y;H(w),(0,n.ic)((()=>{setTimeout((()=>{const e=document.querySelector("#phone"),t=document.querySelector("#phone2");h=q()(e,{preferredCountries:["bj","tg","ci"],initialCountry:"auto",geoIpLookup:H,utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"}),y=q()(t,{preferredCountries:["bj","tg","ci"],initialCountry:"auto",geoIpLookup:H,utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"})}),1500)}));const W=e=>{m.value=e,d.value=!1},j=()=>(i.value=h.getNumber(),s.value?o.value=i.value:o.value=y.getNumber(),1),C=()=>{const e=j();if(0==e)return c("Whatsapp incorrecte","Veuillez entrer un numéro whatsapp correcte");if(s.value)o.value=i.value;else if(""==o.value)return c("Numéro incorrecte","Veuillez entrer un numéro de téléphone correcte.");if(""==m.value)return c("Localisation impossible","Veuillez remplir le champ localisation avant de proceder a la validation. ");v.set("first_name",u.value),v.set("last_name",r.value),v.set("email",p.value),v.set("whatsapp",i.value),v.set("phone",o.value),v.set("quart",m.value),t("done")};return{opened:a,close:f,country:l,whatsapp:i,same:s,lOpen:d,al:W,quart:m,print_quart_name:g,validate_profil:C,first_name:u,last_name:r,email:p,phone:o}}});var S=a(3744);const O=(0,S.Z)(U,[["render",W],["__scopeId","data-v-7a52bb2c"]]),z=O},7537:(e,t,a)=>{a.r(t),a.d(t,{default:()=>D});a(8862),a(7658);var n=a(6252),l=a(2262),i=a(9963),o=a(3577),u=a(5560),s=a(3274),r=a(8903),p=a(930),d=(a(5170),a(8699)),m=a.n(d),c=a(2201),v=a(8433);const _=e=>((0,n.dD)("data-v-a3d45a4e"),e=e(),(0,n.Cn)(),e),f={class:"body_all"},w={class:"header"},g=_((()=>(0,n._)("div",{class:"title_m"},[(0,n._)("div",{class:"img_cont"},[(0,n._)("img",{src:u,class:"img_m"})]),(0,n._)("div",{class:"text_m"},"Zawadi")],-1))),h=_((()=>(0,n._)("div",{class:"title_b"},"Inscription.",-1))),y={class:"form_cont"},W={class:"d_sp",style:{display:"flex"}},b={class:"d_sp"},k={class:"d_sp"},j={class:"d_sp spec"},q=_((()=>(0,n._)("div",{class:"label"},"Whatsapp",-1))),I={class:"d_sp"},C=_((()=>(0,n._)("div",{style:{"padding-top":"0.4rem",color:"rgb(41, 41, 41)","padding-bottom":"0.4rem"}}," Entrez le nom de votre quartier ou d'un lieu connu proche ",-1))),H={key:0},U={key:1},S={style:{"padding-top":"1rem"}},O={__name:"PatnerRegister",setup(e){const t=(0,c.tv)();function a(e){fetch("https://ipinfo.io/json?token=d737ce5f6899f5",{headers:{Accept:"application/json"}}).then((e=>e.json())).catch((()=>({country:"bj"}))).then((t=>{e(t.country)}))}const u=(0,l.iH)(""),d=(0,l.iH)(""),_=(0,l.iH)(""),O=(0,l.iH)(""),z=(0,l.iH)(""),x=((0,l.iH)(""),(0,l.iH)(""));let D;setTimeout((()=>{const e=document.querySelector("#phone");D=m()(e,{preferredCountries:["bj","tg","ci"],initialCountry:"auto",geoIpLookup:a,utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js"})}),1e3);const N=async(e,t)=>{const a=await s.Cl.create({header:e,message:t,buttons:["OK"]});await a.present()},Z=async e=>{const t=await s.G0.create({message:e});return t.present(),t},P=async()=>{if(""==A.value)return N("Position introuvable","Veuillez indiquez un lieu connu ou proche de chez vous");try{V()}catch(l){return await N("Numéro incorrect","Verifiez le numéro whatsapp entré")}const e=await Z("Creation du compte..."),a=new FormData;a.append("first_name",u.value),a.append("last_name",d.value),a.append("email",_.value),a.append("password",O.value),a.append("whatsapp",x.value),a.append("quart",A.value);const n=await(0,v.Z)({url:"v2/api/register_patner/",method:"POST",data:a});n.data["done"]?(e.dismiss(),localStorage.setItem("new_p",JSON.stringify({email:_.value,password:O.value})),t.push("/patner/")):1==n.data["result"]&&N("Email déjà utilisé","Cet email a déjà été utilisé par un membre.")},V=()=>{x.value=D.getNumber()},M=(0,l.iH)(!1),A=(0,l.iH)(""),E=e=>{const t=JSON.parse(e);return t.name},L=e=>{A.value=e,M.value=!1};return(e,a)=>{const m=(0,n.up)("ion-icon"),c=(0,n.up)("ion-label"),v=(0,n.up)("ion-input"),x=(0,n.up)("ion-item"),D=(0,n.up)("ion-button"),N=(0,n.up)("ion-title"),Z=(0,n.up)("ion-buttons"),V=(0,n.up)("ion-header");return(0,n.wg)(),(0,n.j4)((0,l.SU)(s._i),null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,l.SU)(s.W2),null,{default:(0,n.w5)((()=>[(0,n._)("div",f,[(0,n._)("form",{onSubmit:a[7]||(a[7]=(0,i.iM)((e=>P()),["prevent"]))},[(0,n._)("div",w,[(0,n._)("div",{onClick:a[0]||(a[0]=e=>(0,l.SU)(t).back()),class:"menu"},[(0,n.Wm)(m,{icon:(0,l.SU)(r.XRs)},null,8,["icon"])]),g]),h,(0,n._)("div",y,[(0,n._)("div",W,[(0,n.Wm)(x,{fill:"outline",mode:"md",style:{"margin-right":"0.3rem"},color:"tertiary"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{position:"floating"},{default:(0,n.w5)((()=>[(0,n.Uk)("Votre Nom")])),_:1}),(0,n.Wm)(v,{required:"",type:"text",onIonInput:a[1]||(a[1]=e=>u.value=e.target.value)})])),_:1}),(0,n.Wm)(x,{fill:"outline",mode:"md",style:{"margin-left":"0.3rem"},color:"tertiary"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{position:"floating"},{default:(0,n.w5)((()=>[(0,n.Uk)("Prénom")])),_:1}),(0,n.Wm)(v,{required:"",onIonInput:a[2]||(a[2]=e=>d.value=e.target.value),type:"text"})])),_:1})]),(0,n._)("div",b,[(0,n.Wm)(x,{fill:"outline",mode:"md",color:"tertiary"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{position:"floating"},{default:(0,n.w5)((()=>[(0,n.Uk)("Email")])),_:1}),(0,n.Wm)(v,{required:"",onIonInput:a[3]||(a[3]=e=>_.value=e.target.value),type:"email"})])),_:1})]),(0,n._)("div",k,[(0,n.Wm)(x,{fill:"outline",mode:"md",color:"tertiary"},{default:(0,n.w5)((()=>[(0,n.Wm)(c,{position:"floating"},{default:(0,n.w5)((()=>[(0,n.Uk)("Mot de passe")])),_:1}),(0,n.Wm)(v,{type:"password",required:"",onIonInput:a[4]||(a[4]=e=>O.value=e.target.value)})])),_:1})]),(0,n._)("div",j,[q,(0,n._)("div",null,[(0,n._)("input",{required:"",id:"phone",onInput:a[5]||(a[5]=e=>z.value=e.target.value),class:"myinput",type:"number"},null,32)])]),(0,n._)("div",I,[C,(0,n._)("div",{class:(0,o.C_)(["myinp",{acto:""!=A.value,norm:""==A.value}]),onClick:a[6]||(a[6]=e=>M.value=!M.value)},[""==A.value?((0,n.wg)(),(0,n.iD)("div",H,"Aucun nom entré")):((0,n.wg)(),(0,n.iD)("div",U,(0,o.zw)(E(A.value)),1)),(0,n._)("div",null,[(0,n.Wm)(m,{icon:(0,l.SU)(r.xhW)},null,8,["icon"])])],2)]),(0,n._)("div",S,[(0,n.Wm)(D,{type:"submit",expand:"full",color:"tertiary"},{default:(0,n.w5)((()=>[(0,n.Uk)("S'inscrire")])),_:1})])])],32)]),(0,n.Wm)((0,l.SU)(s.ki),{mode:"ios","is-open":!1},{default:(0,n.w5)((()=>[(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[(0,n.Wm)((0,l.SU)(s.sr),null,{default:(0,n.w5)((()=>[(0,n.Wm)(N,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Historique de paiement")])),_:1}),(0,n.Wm)(Z,{slot:"end"},{default:(0,n.w5)((()=>[(0,n.Wm)(D,{onClick:a[8]||(a[8]=t=>e.rOpen=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)("Fermer")])),_:1})])),_:1})])),_:1})])),_:1}),(0,n.Wm)((0,l.SU)(s.W2),{class:"ion-padding"})])),_:1}),(0,n.Wm)(p.Z,{isOpen:M.value,onClose:a[9]||(a[9]=e=>M.value=!1),onDone:L},null,8,["isOpen"])])),_:1})])),_:1})}}};var z=a(3744);const x=(0,z.Z)(O,[["__scopeId","data-v-a3d45a4e"]]),D=x},5560:(e,t,a)=>{e.exports=a.p+"img/zwd_m.5ad71e8a.jpg"}}]);
//# sourceMappingURL=537-legacy.0d678a90.js.map