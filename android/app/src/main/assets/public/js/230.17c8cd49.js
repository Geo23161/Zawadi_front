"use strict";(self["webpackChunkZawadi"]=self["webpackChunkZawadi"]||[]).push([[230],{5402:(e,t,a)=>{a.d(t,{BO:()=>n,Lr:()=>o,QP:()=>r,UT:()=>c,bw:()=>m,ob:()=>u,uZ:()=>d});a(8862),a(7658);var s=a(3978),l=a(3274),i=a(8433);const n=async()=>{const e=new s.K({name:"seller_info"});e.create();const t=await e.get("stoken");if(!t)return!1;{const s=JSON.parse(t);try{const e=await(0,i.Z)({url:"v2/ping",method:"GET",headers:{Authorization:`Bearer ${s.access}`}});if(e.data["done"])return!0}catch(a){if(401==a.response.status){const t=new FormData;t.append("refresh",s.refresh);try{const a=await(0,i.Z)({url:"api/token/refresh/",method:"POST",data:t});return s.access=a.data["access"],e.set("stoken",JSON.stringify(s)),!0}catch(a){if(401==a.response.status)return!1}}}}},r=async e=>{const t=await l.G0.create({message:e});return t.present(),t},o=async(e,t)=>{const a=await l.Cl.create({header:e,message:t,buttons:["OK"]});await a.present()},d=async(e,t,a,s)=>{const i=await l.Cl.create({header:e,message:t,buttons:[{text:"Fermer",role:"cancel"},{text:a,role:"confirm",handler:()=>{s()}}]});await i.present()},u=async(e,t,a="primary")=>{const s=await l.Mn.create({mode:"ios",message:t,position:e,duration:3900,color:a});await s.present()},c=async(e,t,a)=>{const l=new s.K({name:"seller_info"});l.create();const n=await l.get("stoken");if(!n)return a&&a.dismiss(),t.push(`/seller?redirect=${e}`);{const a=JSON.parse(n);try{await(0,i.Z)({url:"v2/ping",method:"GET",headers:{Authorization:`Bearer ${a.access}`}});return a.access}catch(r){if(401==r.response.status){const s=new FormData;s.append("refresh",a.refresh);try{const e=await(0,i.Z)({url:"api/token/refresh/",method:"POST",data:s});return a.access=e.data["access"],l.set("stoken",JSON.stringify(a)),e.data["access"]}catch(r){if(401==r.response.status)return t.push(`/seller?redirect=${e}`)}}}}},m=e=>{window.location.href="tel:"+e}},7230:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ae});a(7658);var s=a(6252),l=a(2262),i=a(3577),n=a(1787),r=a(6545),o=a(5560),d=a(1499),u=a(1792),c=a(3274),m=a(8433),_=a(8903),p=a(2201),w=a(5402);const v=e=>((0,s.dD)("data-v-aac620ae"),e=e(),(0,s.Cn)(),e),g=v((()=>(0,s._)("img",{src:n},null,-1))),h=v((()=>(0,s._)("img",{src:r},null,-1))),f=v((()=>(0,s._)("img",{src:o},null,-1))),U=v((()=>(0,s._)("img",{src:d},null,-1))),S={class:"body_all"},b={class:"header"},y={class:"menu"},k=v((()=>(0,s._)("div",{class:"title_m"},[(0,s._)("div",{class:"img_cont"},[(0,s._)("img",{src:r,class:"img_m"})]),(0,s._)("div",{class:"text_m"},"Zawadi")],-1))),W={class:"seller_cont"},z={class:"seller_prof"},x={style:{"font-size":"1.1rem",color:"#303030"}},C={class:"money_cont"},Z={class:"money"},$={class:"money_text"},B=v((()=>(0,s._)("div",{class:"foot",style:{"padding-left":"1.5rem","padding-right":"1.5rem"}},[(0,s._)("div",{class:"divid"})],-1))),I={class:"sfoot"},O={class:"sf_text"},Q={class:"sbody"},j=v((()=>(0,s._)("div",{class:"stitle"},"Vos produits",-1))),A={key:0,class:"prods_cont"},P={style:{width:"100%"},class:"prods_c"},V={class:"p_cat"},J={class:"p_title"},T={class:"p_divid"},D={style:{"padding-bottom":"0.9rem"}},F=["onClick"],G=v((()=>(0,s._)("div",{class:"divid"},null,-1))),H={style:{"padding-left":"0.4rem"}},K={style:{color:"#8c8c8c"}},N={key:1},q=v((()=>(0,s._)("div",{style:{display:"flex","justify-content":"space-around",padding:"2rem"}},[(0,s._)("img",{src:u,style:{width:"60%"}})],-1))),E=v((()=>(0,s._)("div",{style:{"text-align":"center","padding-left":"1.5rem","padding-right":"1.5rem"}}," Vous n'avez pas encore ajouté les catégories de produits dont vous disposez. ",-1))),L=[q,E],X={class:"add"},M={class:"items"},Y=v((()=>(0,s._)("div",{style:{"min-height":"95vh"}},null,-1))),R=(0,s.aZ)({__name:"SellerView",setup(e){const t=(0,p.tv)(),a=(0,l.iH)(),n=(0,l.iH)(!1),r=e=>{window.location.href=e},o=(0,l.iH)([]),d=async()=>{const e=await(0,w.QP)("Loading..."),s=await m.Z.get("v2/api/get_seller_state/",{headers:{Authorization:`Bearer ${await(0,w.UT)("/seller/home",t,void 0)}`}});s.data["done"]&&(a.value=s.data["result"],e.dismiss(),n.value=!0,o.value=s.data["result"]["has_pays"]),o.value.length&&v()},u=(0,l.iH)(0),v=async()=>{const e=async()=>{const e=await(0,w.QP)("Loading..."),a=await(0,m.Z)({url:"v2/api/verified_pay/",method:"POST",data:{token:o.value[u.value].token},headers:{Authorization:`Bearer ${await(0,w.UT)("/seller/home",t,e)}`}});a.data["done"]&&(e.dismiss(),(0,w.ob)("bottom","Paiement pour la"+o.value[u.value].dis+" marqué comme reçu."),u.value++,u.value+1<=o.value.length&&v())};await(0,w.uZ)("Confirmation de paiement","Avez-vous reçu un paiement de "+o.value[u.value].amount+" Fcfa pour la "+o.value[u.value].dis,"Oui",e)};return(0,c.Yr)((()=>{d()})),(e,o)=>{const d=(0,s.up)("ion-toolbar"),u=(0,s.up)("ion-header"),m=(0,s.up)("ion-footer"),p=(0,s.up)("ion-icon");return(0,s.wg)(),(0,s.j4)((0,l.SU)(c._i),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(c.z0),{class:"poino","content-id":"main-content"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{mode:"ios"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(c.wd),null,{default:(0,s.w5)((()=>[(0,s.Uk)("Menu")])),_:1})])),_:1})])),_:1}),(0,s.Wm)((0,l.SU)(c.W2),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(c.q_),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(c.Ie),{detail:"true",onClick:o[0]||(o[0]=e=>(0,l.SU)(t).push("/acheteur")),button:""},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(c.BJ),{slot:"start"},{default:(0,s.w5)((()=>[g])),_:1}),(0,s.Wm)((0,l.SU)(c.Q$),null,{default:(0,s.w5)((()=>[(0,s.Uk)(" Zawadi Acheteur ")])),_:1})])),_:1}),(0,s.Wm)((0,l.SU)(c.Ie),{detail:"true",color:"secondary",button:""},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(c.BJ),{slot:"start"},{default:(0,s.w5)((()=>[h])),_:1}),(0,s.Wm)((0,l.SU)(c.Q$),null,{default:(0,s.w5)((()=>[(0,s.Uk)(" Zawadi Vendeur ")])),_:1})])),_:1}),(0,s.Wm)((0,l.SU)(c.Ie),{onClick:o[1]||(o[1]=e=>(0,l.SU)(t).push("/patner")),detail:"true",button:""},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(c.BJ),{slot:"start"},{default:(0,s.w5)((()=>[f])),_:1}),(0,s.Wm)((0,l.SU)(c.Q$),null,{default:(0,s.w5)((()=>[(0,s.Uk)(" Zawadi Partenaire ")])),_:1})])),_:1}),(0,s.Wm)((0,l.SU)(c.Ie),{detail:"true",onClick:o[2]||(o[2]=e=>r("https://www.zawadi.site/blog")),button:""},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(c.BJ),{slot:"start"},{default:(0,s.w5)((()=>[U])),_:1}),(0,s.Wm)((0,l.SU)(c.Q$),null,{default:(0,s.w5)((()=>[(0,s.Uk)(" Zawadi Blog ")])),_:1})])),_:1})])),_:1})])),_:1}),(0,s.Wm)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{mode:"ios"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(c.wd),null,{default:(0,s.w5)((()=>[(0,s.Uk)(" © Elife Global")])),_:1})])),_:1})])),_:1})])),_:1}),n.value?((0,s.wg)(),(0,s.j4)((0,l.SU)(c.W2),{key:0},{default:(0,s.w5)((()=>[(0,s._)("div",S,[(0,s._)("div",b,[(0,s.Wm)((0,l.SU)(c.zc),null,{default:(0,s.w5)((()=>[(0,s._)("div",y,[(0,s.Wm)(p,{icon:(0,l.SU)(_.GIQ)},null,8,["icon"])])])),_:1}),k]),(0,s._)("div",W,[(0,s._)("div",z,[(0,s._)("div",{style:(0,i.j5)({"min-width":"45px",width:"45px",height:"45px","min-height":"45px","border-radius":"100%","background-size":"cover","background-position":"top center","background-image":`url('${a.value.get_picture}')`,"margin-right":"0.6rem","border-style":"solid","border-width":"2px","border-color":"#303030"})},null,4),(0,s._)("div",x,(0,i.zw)(a.value.seller),1)]),(0,s._)("div",{onClick:o[3]||(o[3]=e=>(0,l.SU)(t).push("/seller/params")),class:"sel_ico"},[(0,s.Wm)(p,{icon:(0,l.SU)(_.Xdb)},null,8,["icon"])])]),(0,s._)("div",C,[(0,s._)("div",Z,"XOF"+(0,i.zw)(a.value.solde),1)]),(0,s._)("div",$," Vous avez vendu "+(0,i.zw)(a.value.p_count)+" produits au total. ",1),B,(0,s._)("div",I,[(0,s._)("div",O,[(0,s.Uk)(" Vous pouvez retirer "),(0,s.Wm)(p,{icon:(0,l.SU)(_.eFK),style:{position:"relative",top:"0.2rem"}},null,8,["icon"])]),(0,s._)("div",null,[(0,s._)("button",{onClick:o[4]||(o[4]=e=>(0,l.SU)(t).push("/seller/pay")),class:"my_but"}," Retirer ")])])]),(0,s._)("div",Q,[j,a.value.subs.length?((0,s.wg)(),(0,s.iD)("div",A,[(0,s._)("div",P,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.value.subs,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"prods",key:e.id},[(0,s._)("div",null,[(0,s._)("div",{style:(0,i.j5)({"min-width":"45px",width:"45px",height:"45px","min-height":"45px","border-radius":"100%","background-size":"cover","background-position":"top center","background-image":`url('${e.get_picture}')`,"margin-bottom":"0.6rem"})},null,4)]),(0,s._)("div",V,(0,i.zw)(e.get_cat),1),(0,s._)("div",J,(0,i.zw)(e.get_subs),1),(0,s._)("div",T,[(0,s._)("div",D,[(0,s._)("button",{onClick:a=>(0,l.SU)(t).push(`/seller/product/${e.id}`),class:"pbut"}," Voir ",8,F)]),G]),(0,s._)("div",H,[(0,s.Uk)((0,i.zw)(e.s_count),1),(0,s._)("span",K,"/"+(0,i.zw)(e.p_count),1),(0,s.Uk)(" vendus ")])])))),128))])])):((0,s.wg)(),(0,s.iD)("div",N,L)),(0,s._)("div",X,[(0,s._)("button",{onClick:o[5]||(o[5]=e=>(0,l.SU)(t).push(`/seller/add/?picture=${a.value.get_picture}`)),class:"addBut"}," Ajouter une categorie ")]),(0,s._)("div",M,[(0,s.Wm)((0,l.SU)(c.q_),null,{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(c.Ie),{onClick:o[6]||(o[6]=e=>(0,l.SU)(t).push("/seller/sold")),button:"",detail:"true"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(c.Q$),null,{default:(0,s.w5)((()=>[(0,s.Uk)("Voir les produits vendus")])),_:1}),(0,s.Wm)(p,{icon:(0,l.SU)(_.I1A),slot:"start"},null,8,["icon"])])),_:1}),(0,s.Wm)((0,l.SU)(c.Ie),{onClick:o[7]||(o[7]=e=>(0,l.SU)(t).push("/seller/pay")),button:"",detail:"true"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(c.Q$),null,{default:(0,s.w5)((()=>[(0,s.Uk)("Activité de paiement")])),_:1}),(0,s.Wm)(p,{icon:(0,l.SU)(_.V7I),slot:"start"},null,8,["icon"])])),_:1}),(0,s.Wm)((0,l.SU)(c.Ie),{onClick:o[8]||(o[8]=e=>(0,l.SU)(t).push("/seller/params")),button:"",detail:"true"},{default:(0,s.w5)((()=>[(0,s.Wm)((0,l.SU)(c.Q$),null,{default:(0,s.w5)((()=>[(0,s.Uk)("Parametres du compte")])),_:1}),(0,s.Wm)(p,{icon:(0,l.SU)(_.Xdb),slot:"start"},null,8,["icon"])])),_:1})])),_:1})])])])),_:1})):((0,s.wg)(),(0,s.j4)((0,l.SU)(c.W2),{key:1},{default:(0,s.w5)((()=>[Y])),_:1}))])),_:1})}}});var ee=a(3744);const te=(0,ee.Z)(R,[["__scopeId","data-v-aac620ae"]]),ae=te},1792:(e,t,a)=>{e.exports=a.p+"img/not_cat.487b28d3.svg"},1787:(e,t,a)=>{e.exports=a.p+"img/zwd.24e25bda.png"},1499:(e,t,a)=>{e.exports=a.p+"img/zwd_b.27b32df9.png"},5560:(e,t,a)=>{e.exports=a.p+"img/zwd_m.5ad71e8a.jpg"},6545:(e,t,a)=>{e.exports=a.p+"img/zwd_v.49aab1df.png"}}]);
//# sourceMappingURL=230.17c8cd49.js.map